function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN;a=self;b=a.WebSharperTerminalSample=a.WebSharperTerminalSample||{};c=b.Client=b.Client||{};d=a.StartupCode$WebSharper_JQueryTerminal_Tests$Client=a.StartupCode$WebSharper_JQueryTerminal_Tests$Client||{};e=a.WebSharper=a.WebSharper||{};f=e.Operators=e.Operators||{};g=e.UI=e.UI||{};h=g.Var=g.Var||{};i=e.Obj=e.Obj||{};j=g.Templating=g.Templating||{};k=j.Runtime=j.Runtime||{};l=k.Server=k.Server||{};m=l.TemplateInstance=l.TemplateInstance||{};n=e.Arrays=e.Arrays||{};o=l.ProviderBuilder=l.ProviderBuilder||{};p=g.AttrProxy=g.AttrProxy||{};q=e.List=e.List||{};r=l.Handler=l.Handler||{};s=e.JavaScript=e.JavaScript||{};t=s.JS=s.JS||{};u=a.WebSharper$JQueryTerminal$Tests_Templates=a.WebSharper$JQueryTerminal$Tests_Templates||{};v=g.ConcreteVar=g.ConcreteVar||{};w=g.Snap=g.Snap||{};x=g.Client=g.Client||{};y=x.Templates=x.Templates||{};z=g.Doc=g.Doc||{};A=s.Pervasives=s.Pervasives||{};B=e.Collections=e.Collections||{};C=B.List=B.List||{};D=g.Array=g.Array||{};E=e.Unchecked=e.Unchecked||{};F=a.System=a.System||{};G=F.Guid=F.Guid||{};H=q.T=q.T||{};I=g.AttrModule=g.AttrModule||{};J=B.Dictionary=B.Dictionary||{};K=B.HashSet=B.HashSet||{};L=k.Client=k.Client||{};M=e.Seq=e.Seq||{};N=g.Abbrev=g.Abbrev||{};O=N.Fresh=N.Fresh||{};P=a.EventTarget;Q=a.Node;R=g.DomUtility=g.DomUtility||{};S=a.Object;T=g.Attrs=g.Attrs||{};U=g.View=g.View||{};V=g.CheckedInput=g.CheckedInput||{};W=e.Numeric=e.Numeric||{};X=B.DictionaryUtil=B.DictionaryUtil||{};Y=e.Enumerator=e.Enumerator||{};Z=Y.T=Y.T||{};_0=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_1=a.WindowOrWorkerGlobalScope;_2=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};_3=g.Docs=g.Docs||{};_4=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};_5=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_6=y.Prepare=y.Prepare||{};_7=e.Slice=e.Slice||{};_8=B.KeyCollection=B.KeyCollection||{};_9=g.DocElemNode=g.DocElemNode||{};_=a.CharacterData;$=g.An=g.An||{};ba=x.Settings=x.Settings||{};bb=N.Mailbox=N.Mailbox||{};bc=B.HashSetUtil=B.HashSetUtil||{};bd=e.Strings=e.Strings||{};be=x.Attrs=x.Attrs||{};bf=be.Dyn=be.Dyn||{};bg=x.Docs=x.Docs||{};bh=bg.RunState=bg.RunState||{};bi=bg.NodeSet=bg.NodeSet||{};bj=g.Anims=g.Anims||{};bk=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bl=g.Elt=g.Elt||{};bm=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bn=e.Concurrency=e.Concurrency||{};bo=g.AppendList=g.AppendList||{};bp=g.Updates=g.Updates||{};bq=g.Easing=g.Easing||{};br=bn.AsyncBody=bn.AsyncBody||{};bs=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bt=bn.CT=bn.CT||{};bu=N.HashSet=N.HashSet||{};bv=g.String=g.String||{};bw=bn.Scheduler=bn.Scheduler||{};bx=e.CancellationTokenSource=e.CancellationTokenSource||{};by=bg.DomNodes=bg.DomNodes||{};bz=e.Char=e.Char||{};bA=g.DynamicAttrNode=g.DynamicAttrNode||{};bB=a.Error;bC=e.OperationCanceledException=e.OperationCanceledException||{};bD=e.Lazy=e.Lazy||{};bE=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bF=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};bG=bF.LazyRecord=bF.LazyRecord||{};bH=e.Queue=e.Queue||{};bI=a.IntelliFactory;bJ=bI&&bI.Runtime;bK=a.jQuery;bL=a.console;bM=a.Math;bN=a.Date;c.Main=function(){d.$cctor();return d.Main;};c.set_numOfTemplates=function(bO){d.$cctor();d.numOfTemplates=bO;};c.numOfTemplates=function(){d.$cctor();return d.numOfTemplates;};c.i2=function(bO,bP){if(bP==="asd")bO.echo("kek");else if(bP==="switch")bO.pop();else bO.echo("...");};c.intOpt=function(){d.$cctor();return d.intOpt;};c.Blank=function(bO){return bO===""?{$:1,$0:null}:null;};c.Switch=function(bO){return bO==="switch"?{$:1,$0:null}:null;};c.Clear=function(bO){return bO==="clear"?{$:1,$0:null}:null;};c.Template=function(bO){return bO==="template"?{$:1,$0:null}:null;};c.Help=function(bO){return bO==="help"?{$:1,$0:null}:null;};c.interpreter=function(){d.$cctor();return d.interpreter;};c.Opt=function(){d.$cctor();return d.Opt;};d.$cctor=function(){var bO,bP,bQ,bR;d.$cctor=a.ignore;d.intOpt=(bO={},bO.name="No2",bO.prompt="+ ",bO);d.numOfTemplates=0;d.interpreter=function(bS){var bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5;return(bT=c.Help(bS),bT!=null&&bT.$==1)?this.echo("Commands: help, clear, template"):(bU=c.Template(bS),bU!=null&&bU.$==1)?(c.set_numOfTemplates(c.numOfTemplates()+1),bV="template"+a.String(c.numOfTemplates()),bW=h.Create$1(""),bX=(bY=(bZ=(b0=q.ofArray([I.Handler("keypress",function(){return function(b6){return b6.stopPropagation();};}),I.Handler("keydown",function(){return function(b6){return b6.stopPropagation();};}),I.Handler("keyup",function(){return function(b6){return b6.stopPropagation();};}),I.Handler("input",function(){return function(b6){return b6.stopPropagation();};})]),o.Make().WithHole({$:8,$0:"projname",$1:bW}).WithHole({$:3,$0:"eventprop",$1:p.Concat(b0)})),bZ.WithHole(r.EventQ2(bZ.k,"download",function(){return bZ.i;},function(){a.alert(bW.Get());}))),(b1=r.CompleteHoles(bY.k,bY.h,[["projname",0]]),(b2=new m.New(b1[1],u.form(b1[0])),(bY.i=b2,b2)))).get_Doc(),this.echo("<div id=\""+bV+"\"></div>",{raw:true}),y.LoadLocalTemplates(""),z.RunById(bV,bX)):(b3=c.Clear(bS),b3!=null&&b3.$==1)?this.clear():(b4=c.Switch(bS),b4!=null&&b4.$==1)?this.push(function(b6){return c.i2(this,b6);},c.intOpt()):(b5=c.Blank(bS),b5!=null&&b5.$==1)?this.echo(""):this.echo("Unknown command",{raw:true});};d.Opt=(bP={},bP.name="Terminal1",bP.prompt="> ",bP.greetings="Welcome to the Terminal Test Page! See 'help' for the list of commands.",bP.onInit=function(bS){bS.enable();return bS.echo("Hey Dood, it's workin'!");},bP);d.Main=(bQ=c.interpreter(),(bR=c.Opt(),void a.$("#body").terminal(bQ,bR)));};f.FailWith=function(bO){throw new bB(bO);};f.KeyValue=function(bO){return[bO.K,bO.V];};h.Create$1=function(bO){return new v.New(false,w.New({$:2,$0:bO,$1:[]}),bO);};i=e.Obj=bJ.Class({Equals:function(bO){return this===bO;},GetHashCode:function(){return -1;}},null,i);i.New=bJ.Ctor(function(){},i);m=l.TemplateInstance=bJ.Class({get_Doc:function(){return this.doc;}},i,m);m.New=bJ.Ctor(function(bO,bP){i.New.call(this);this.doc=bP;this.allVars=bO.$==0?bO.$0:f.FailWith("Should not happen");},m);n.get=function(bO,bP){n.checkBounds(bO,bP);return bO[bP];};n.length=function(bO){return bO.dims===2?bO.length*bO.length:bO.length;};n.checkBounds=function(bO,bP){if(bP<0||bP>=bO.length)f.FailWith("Index was outside the bounds of the array.");};n.set=function(bO,bP,bQ){n.checkBounds(bO,bP);bO[bP]=bQ;};o=l.ProviderBuilder=bJ.Class({WithHole:function(bO){this.h.push(bO);return this;}},null,o);o.Make=function(){var bO;return o.New(null,(bO=G.NewGuid(),a.String(bO)),[]);};o.New=function(bO,bP,bQ){return new o({i:bO,k:bP,h:bQ});};p=g.AttrProxy=bJ.Class({},null,p);p.Concat=function(bO){var bP;bP=D.ofSeqNonCopying(bO);return D.TreeReduce(T.EmptyAttr(),p.Append,bP);};p.Append=function(bO,bP){return T.AppendTree(bO,bP);};p.Handler=function(bO,bP){return p.HandlerImpl(bO,bP);};p.Create=function(bO,bP){return T.Static(function(bQ){R.SetAttr(bQ,bO,bP);});};p.HandlerImpl=function(bO,bP){return T.Static(function(bQ){bQ.addEventListener(bO,function(bR){return(bP(bQ))(bR);},false);});};q.ofArray=function(bO){var bP,bQ,bR;bP=H.Empty;for(bQ=n.length(bO)-1,bR=0;bQ>=bR;bQ--)bP=new H({$:1,$0:n.get(bO,bQ),$1:bP});return bP;};q.head=function(bO){return bO.$==1?bO.$0:q.listEmpty();};q.tail=function(bO){return bO.$==1?bO.$1:q.listEmpty();};q.listEmpty=function(){return f.FailWith("The input list was empty.");};r.EventQ2=function(bO,bP,bQ,bR){return{$:5,$0:bP,$1:true,$2:function(bS){return function(bT){return bR({Vars:bQ(),Target:bS,Event:bT});};}};};r.CompleteHoles=function(bO,bP,bQ){var bS,bT,bU,bV,bW,bX;function bR(bY,bZ){var b0,b1,b2,b3;return bT.Contains(bY)?null:(b0=bZ===0?(b1=h.Create$1(""),[{$:8,$0:bY,$1:b1},b1]):bZ===1?(b2=h.Create$1(0),[{$:13,$0:bY,$1:b2},b2]):bZ===2?(b3=h.Create$1(false),[{$:9,$0:bY,$1:b3},b3]):f.FailWith("Invalid value type"),(bS.set_Item(bY,b0[1]),{$:1,$0:b0[0]}));}bS=new J.New$5();bT=new K.New$3();bU=Y.Get(bP);try{while(bU.MoveNext()){bV=bU.Current();(bV.$==8?(bW=[bV.$0,L.Box(bV.$1)],true):bV.$==11?(bW=[bV.$0,L.Box(bV.$1)],true):bV.$==10?(bW=[bV.$0,L.Box(bV.$1)],true):bV.$==13?(bW=[bV.$0,L.Box(bV.$1)],true):bV.$==12?(bW=[bV.$0,L.Box(bV.$1)],true):bV.$==9&&(bW=[bV.$0,L.Box(bV.$1)],true))?(bX=bW[0],bT.Add(bX),bS.set_Item(bX,bW[1])):void 0;}}finally{if(typeof bU=="object"&&"Dispose"in bU)bU.Dispose();}return[M.append(bP,n.choose(function(bY){return bR(bY[0],bY[1]);},bQ)),{$:0,$0:bS}];};t.GetFieldValues=function(bO){var bP,bQ;bP=[];for(var bR in bO)bP.push(bO[bR]);return bP;};h=g.Var=bJ.Class({},i,h);h.New=bJ.Ctor(function(){i.New.call(this);},h);u.form=function(bO){return bO?y.GetOrLoadTemplate("template",{$:1,$0:"form"},function(){return bK.parseHTML("<div class=\"form-class\">\n    <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"clientserverfsharp\">Client-Server Application F#\n                                </option><option value=\"spafsharp\">Single Page Application F#\n                                </option><option value=\"extensionfsharp\">Extension F#\n                                </option><option value=\"libraryfsharp\">Library F#\n                                </option><option value=\"offlinefsharp\">HTML Application F#\n                                </option><option value=\"owinfsharp\">Owin F#\n                                </option><option value=\"clientserverfsharp\">Client-Server Application C#\n                                </option><option value=\"spacsharp\">Single Page Application C#\n                                </option><option value=\"librarycsharp\">Library C#\n                                </option><option value=\"offlinecsharp\">HTML Application C#\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n                                </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n                                </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n                                </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n                                </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n                                </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n                                </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n                                </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n                                </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n                                </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n                                </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n                            </li></ul></div></div>\n\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"vs2017\">Visual Studio 2017\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n                            </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n                            </li></ul></div></div>\n\n    <div class=\"social-button-group\">\n                            <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n                                Download\n                            </button>\n                        </div>\n</div>");},bO):y.PrepareTemplate("template",{$:1,$0:"form"},function(){return bK.parseHTML("<div class=\"form-class\">\n    <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"clientserverfsharp\">Client-Server Application F#\n                                </option><option value=\"spafsharp\">Single Page Application F#\n                                </option><option value=\"extensionfsharp\">Extension F#\n                                </option><option value=\"libraryfsharp\">Library F#\n                                </option><option value=\"offlinefsharp\">HTML Application F#\n                                </option><option value=\"owinfsharp\">Owin F#\n                                </option><option value=\"clientserverfsharp\">Client-Server Application C#\n                                </option><option value=\"spacsharp\">Single Page Application C#\n                                </option><option value=\"librarycsharp\">Library C#\n                                </option><option value=\"offlinecsharp\">HTML Application C#\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n                                </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n                                </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n                                </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n                                </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n                                </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n                                </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n                                </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n                                </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n                                </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n                                </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n                            </li></ul></div></div>\n\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"vs2017\">Visual Studio 2017\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n                            </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n                            </li></ul></div></div>\n\n    <div class=\"social-button-group\">\n                            <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n                                Download\n                            </button>\n                        </div>\n</div>");});};v=g.ConcreteVar=bJ.Class({Get:function(){return this.current;},get_View:function(){return this.view;},Set:function(bO){if(this.isConst)(function(bP){return bP("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bP){bL.log(bP);}));else{w.Obsolete(this.snap);this.current=bO;this.snap=w.New({$:2,$0:bO,$1:[]});}},UpdateMaybe:function(bO){var bP;bP=bO(this.Get());bP!=null&&bP.$==1?this.Set(bP.$0):void 0;}},h,v);v.New=bJ.Ctor(function(bO,bP,bQ){var bR;bR=this;h.New.call(this);this.isConst=bO;this.current=bQ;this.snap=bP;this.view=function(){return bR.snap;};this.id=O.Int();},v);w.WhenRun=function(bO,bP,bQ){var bR;bR=bO.s;bR==null?bQ():bR!=null&&bR.$==2?(bR.$1.push(bQ),bP(bR.$0)):bR!=null&&bR.$==3?(bR.$0.push(bP),bR.$1.push(bQ)):bP(bR.$0);};w.Map=function(bO,bP){var bQ,bR;bQ=bP.s;return bQ!=null&&bQ.$==0?w.New({$:0,$0:bO(bQ.$0)}):(bR=w.New({$:3,$0:[],$1:[]}),(w.When(bP,function(bS){w.MarkDone(bR,bP,bO(bS));},bR),bR));};w.Map3=function(bO,bP,bQ,bR){var bS,bT,bU,bV;function bW(bX){var bY,bZ,b0,b1;if(!(bY=bV.s,bY!=null&&bY.$==0||bY!=null&&bY.$==2)){bZ=w.ValueAndForever(bP);b0=w.ValueAndForever(bQ);b1=w.ValueAndForever(bR);bZ!=null&&bZ.$==1?b0!=null&&b0.$==1?b1!=null&&b1.$==1?bZ.$0[1]&&b0.$0[1]&&b1.$0[1]?w.MarkForever(bV,bO(bZ.$0[0],b0.$0[0],b1.$0[0])):w.MarkReady(bV,bO(bZ.$0[0],b0.$0[0],b1.$0[0])):void 0:void 0:void 0;}}bS=bP.s;bT=bQ.s;bU=bR.s;return bS!=null&&bS.$==0?bT!=null&&bT.$==0?bU!=null&&bU.$==0?w.New({$:0,$0:bO(bS.$0,bT.$0,bU.$0)}):w.Map3Opt1(bO,bS.$0,bT.$0,bR):bU!=null&&bU.$==0?w.Map3Opt2(bO,bS.$0,bU.$0,bQ):w.Map3Opt3(bO,bS.$0,bQ,bR):bT!=null&&bT.$==0?bU!=null&&bU.$==0?w.Map3Opt4(bO,bT.$0,bU.$0,bP):w.Map3Opt5(bO,bT.$0,bP,bR):bU!=null&&bU.$==0?w.Map3Opt6(bO,bU.$0,bP,bQ):(bV=w.New({$:3,$0:[],$1:[]}),(w.When(bP,bW,bV),w.When(bQ,bW,bV),w.When(bR,bW,bV),bV));};w.Sequence=function(bO){var bP,bQ,bR;function bS(bT){var bU;if(bR[0]===0){bU=n.map(function(bV){var bW;bW=bV.s;return bW!=null&&bW.$==0?bW.$0:bW!=null&&bW.$==2?bW.$0:f.FailWith("value not found by View.Sequence");},bP);n.forall(function(bV){var bW;bW=bV.s;return bW!=null&&bW.$==0;},bP)?w.MarkForever(bQ,bU):w.MarkReady(bQ,bU);}else bR[0]--;}bP=n.ofSeq(bO);return bP.length==0?w.New({$:0,$0:[]}):(bQ=w.New({$:3,$0:[],$1:[]}),(bR=[n.length(bP)-1],(n.iter(function(bT){w.When(bT,bS,bQ);},bP),bQ)));};w.Map2=function(bO,bP,bQ){var bR,bS,bT;function bU(bV){var bW,bX,bY;if(!(bW=bT.s,bW!=null&&bW.$==0||bW!=null&&bW.$==2)){bX=w.ValueAndForever(bP);bY=w.ValueAndForever(bQ);bX!=null&&bX.$==1?bY!=null&&bY.$==1?bX.$0[1]&&bY.$0[1]?w.MarkForever(bT,bO(bX.$0[0],bY.$0[0])):w.MarkReady(bT,bO(bX.$0[0],bY.$0[0])):void 0:void 0;}}bR=bP.s;bS=bQ.s;return bR!=null&&bR.$==0?bS!=null&&bS.$==0?w.New({$:0,$0:bO(bR.$0,bS.$0)}):w.Map2Opt1(bO,bR.$0,bQ):bS!=null&&bS.$==0?w.Map2Opt2(bO,bS.$0,bP):(bT=w.New({$:3,$0:[],$1:[]}),(w.When(bP,bU,bT),w.When(bQ,bU,bT),bT));};w.Map2Unit=function(bO,bP){var bQ,bR,bS;function bT(){var bU,bV,bW;if(!(bU=bS.s,bU!=null&&bU.$==0||bU!=null&&bU.$==2)){bV=w.ValueAndForever(bO);bW=w.ValueAndForever(bP);bV!=null&&bV.$==1?bW!=null&&bW.$==1?bV.$0[1]&&bW.$0[1]?w.MarkForever(bS,null):w.MarkReady(bS,null):void 0:void 0;}}bQ=bO.s;bR=bP.s;return bQ!=null&&bQ.$==0?bR!=null&&bR.$==0?w.New({$:0,$0:null}):bP:bR!=null&&bR.$==0?bO:(bS=w.New({$:3,$0:[],$1:[]}),(w.When(bO,bT,bS),w.When(bP,bT,bS),bS));};w.Copy=function(bO){var bP,bQ,bR;bP=bO.s;return bP==null?bO:bP!=null&&bP.$==2?(bQ=w.New({$:2,$0:bP.$0,$1:[]}),(w.WhenObsolete(bO,bQ),bQ)):bP!=null&&bP.$==3?(bR=w.New({$:3,$0:[],$1:[]}),(w.When(bO,function(bS){w.MarkDone(bR,bO,bS);},bR),bR)):bO;};w.WhenObsoleteRun=function(bO,bP){var bQ;bQ=bO.s;bQ==null?bP():bQ!=null&&bQ.$==2?bQ.$1.push(bP):bQ!=null&&bQ.$==3?bQ.$1.push(bP):void 0;};w.When=function(bO,bP,bQ){var bR;bR=bO.s;bR==null?w.Obsolete(bQ):bR!=null&&bR.$==2?(w.EnqueueSafe(bR.$1,bQ),bP(bR.$0)):bR!=null&&bR.$==3?(bR.$0.push(bP),w.EnqueueSafe(bR.$1,bQ)):bP(bR.$0);};w.MarkDone=function(bO,bP,bQ){var bR;if(bR=bP.s,bR!=null&&bR.$==0)w.MarkForever(bO,bQ);else w.MarkReady(bO,bQ);};w.Map3Opt1=function(bO,bP,bQ,bR){return w.Map(function(bS){return bO(bP,bQ,bS);},bR);};w.Map3Opt2=function(bO,bP,bQ,bR){return w.Map(function(bS){return bO(bP,bS,bQ);},bR);};w.Map3Opt3=function(bO,bP,bQ,bR){return w.Map2(function(bS,bT){return bO(bP,bS,bT);},bQ,bR);};w.Map3Opt4=function(bO,bP,bQ,bR){return w.Map(function(bS){return bO(bS,bP,bQ);},bR);};w.Map3Opt5=function(bO,bP,bQ,bR){return w.Map2(function(bS,bT){return bO(bS,bP,bT);},bQ,bR);};w.Map3Opt6=function(bO,bP,bQ,bR){return w.Map2(function(bS,bT){return bO(bS,bT,bP);},bQ,bR);};w.ValueAndForever=function(bO){var bP;bP=bO.s;return bP!=null&&bP.$==0?{$:1,$0:[bP.$0,true]}:bP!=null&&bP.$==2?{$:1,$0:[bP.$0,false]}:null;};w.MarkForever=function(bO,bP){var bQ,bR,bS,bT;bQ=bO.s;if(bQ!=null&&bQ.$==3){bO.s={$:0,$0:bP};bR=bQ.$0;for(bS=0,bT=n.length(bR)-1;bS<=bT;bS++)(n.get(bR,bS))(bP);}else void 0;};w.MarkReady=function(bO,bP){var bQ,bR,bS,bT;bQ=bO.s;if(bQ!=null&&bQ.$==3){bO.s={$:2,$0:bP,$1:bQ.$1};bR=bQ.$0;for(bS=0,bT=n.length(bR)-1;bS<=bT;bS++)(n.get(bR,bS))(bP);}else void 0;};w.Map2Opt1=function(bO,bP,bQ){return w.Map(function(bR){return bO(bP,bR);},bQ);};w.Map2Opt2=function(bO,bP,bQ){return w.Map(function(bR){return bO(bR,bP);},bQ);};w.WhenObsolete=function(bO,bP){var bQ;bQ=bO.s;bQ==null?w.Obsolete(bP):bQ!=null&&bQ.$==2?w.EnqueueSafe(bQ.$1,bP):bQ!=null&&bQ.$==3?w.EnqueueSafe(bQ.$1,bP):void 0;};w.EnqueueSafe=function(bO,bP){var bQ,bR,bS,bT;bO.push(bP);if(bO.length%20===0){bQ=bO.slice(0);bH.Clear(bO);for(bR=0,bS=n.length(bQ)-1;bR<=bS;bR++){bT=n.get(bQ,bR);typeof bT=="object"?function(bU){if(bU.s)bO.push(bU);}(bT):function(bU){bO.push(bU);}(bT);}}else void 0;};y.LoadLocalTemplates=function(bO){!y.LocalTemplatesLoaded()?(y.set_LocalTemplatesLoaded(true),y.LoadNestedTemplates(self.document.body,"")):void 0;y.LoadedTemplates().set_Item(bO,y.LoadedTemplateFile(""));};y.LocalTemplatesLoaded=function(){_0.$cctor();return _0.LocalTemplatesLoaded;};y.set_LocalTemplatesLoaded=function(bO){_0.$cctor();_0.LocalTemplatesLoaded=bO;};y.LoadNestedTemplates=function(bO,bP){var bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4;function bQ(b5){var b6,b7;if(!bR.ContainsKey(b5)){b6=(b7=null,[bS.TryGetValue(b5,{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?(b4.Add(b5),bS.Remove(b5),y.PrepareTemplateStrict(bP,{$:1,$0:b5},b6[1][0],{$:1,$0:b6[1][1]},{$:1,$0:bQ})):bL.warn(b4.Contains(b5)?"Encountered loop when instantiating "+b5:"Local template does not exist: "+b5);}}bR=y.LoadedTemplateFile(bP);bS=new J.New$5();bT=bO.querySelectorAll("[ws-template]");for(bU=0,bV=bT.length-1;bU<=bV;bU++){bW=bT[bU];bX=bW.getAttribute("ws-template").toLowerCase();bW.removeAttribute("ws-template");bS.set_Item(bX,[[bW],y.FakeRootSingle(bW)]);}bY=bO.querySelectorAll("[ws-children-template]");for(bZ=0,b0=bY.length-1;bZ<=b0;bZ++){b1=bY[bZ];b2=b1.getAttribute("ws-children-template").toLowerCase();b1.removeAttribute("ws-children-template");bS.set_Item(b2,(b3=R.ChildrenArray(b1),[b3,y.FakeRoot(b3)]));}b4=new K.New$3();while(bS.count>0)bQ(M.head(bS.get_Keys()));};y.LoadedTemplates=function(){_0.$cctor();return _0.LoadedTemplates;};y.LoadedTemplateFile=function(bO){var bP,bQ,bR;bP=(bQ=null,[y.LoadedTemplates().TryGetValue(bO,{get:function(){return bQ;},set:function(bS){bQ=bS;}}),bQ]);return bP[0]?bP[1]:(bR=new J.New$5(),(y.LoadedTemplates().set_Item(bO,bR),bR));};y.GetOrLoadTemplate=function(bO,bP,bQ,bR){y.LoadLocalTemplates("");y.PrepareTemplate(bO,bP,bQ);return y.NamedTemplate(bO,bP,bR);};y.PrepareTemplate=function(bO,bP,bQ){var bR,bS,bT,bU,bV;if(!y.LoadedTemplateFile(bO).ContainsKey(bP==null?"":bP.$0)){bR=bQ();for(bS=0,bT=bR.length-1;bS<=bT;bS++){bU=n.get(bR,bS);bV=bU.parentNode;E.Equals(bV,null)?void 0:bV.removeChild(bU);}y.PrepareTemplateStrict(bO,bP,bR,null,null);}};y.FakeRootSingle=function(bO){var bP,bQ,bR;bO.removeAttribute("ws-template");bP=bO.getAttribute("ws-replace");bP===null?void 0:(bO.removeAttribute("ws-replace"),bQ=bO.parentNode,E.Equals(bQ,null)?void 0:(bR=self.document.createElement(bO.tagName),bR.setAttribute("ws-replace",bP),bQ.replaceChild(bR,bO)));return y.FakeRoot([bO]);};y.FakeRoot=function(bO){var bP,bQ,bR;bP=self.document.createElement("div");for(bQ=0,bR=bO.length-1;bQ<=bR;bQ++)bP.appendChild(n.get(bO,bQ));return bP;};y.PrepareTemplateStrict=function(bO,bP,bQ,bR,bS){var bT,bU;function bV(b0,b1){var b2,b3,b4,b5,b6,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq;function b7(cr){}while(true)switch(b0){case 0:if(b1!==null){b2=b1.nextSibling;if(E.Equals(b1.nodeType,Q.TEXT_NODE))_6.convertTextNode(b1);else if(E.Equals(b1.nodeType,Q.ELEMENT_NODE))bX(b1);b1=b2;}else return null;break;case 1:b8=_7.string(b1.nodeName,{$:1,$0:3},null).toLowerCase();b9=(b3=b8.indexOf("."),b3===-1?[bO,b8]:[_7.string(b8,null,{$:1,$0:b3-1}),_7.string(b8,{$:1,$0:b3+1},null)]);b_=b9[1];b$=b9[0];if(b$!==""&&!y.LoadedTemplates().ContainsKey(b$))return _6.failNotLoaded(b_);else{if(b$===""&&bS!=null)bS.$0(b_);ca=y.LoadedTemplates().get_Item(b$);if(!ca.ContainsKey(b_))return _6.failNotLoaded(b_);else{cb=ca.get_Item(b_);cc=cb.cloneNode(true);cd=new K.New$3();ce=new J.New$5();cf=b1.attributes;for(cg=0,ch=cf.length-1;cg<=ch;cg++){ci=cf.item(cg).name.toLowerCase();ce.set_Item(ci,(cj=cf.item(cg).nodeValue,cj===""?ci:cj.toLowerCase()));!cd.Add(ci)?bL.warn("Hole mapped twice",ci):void 0;}for(ck=0,cl=b1.childNodes.length-1;ck<=cl;ck++){cm=b1.childNodes[ck];E.Equals(cm.nodeType,Q.ELEMENT_NODE)?!cd.Add(cm.nodeName.toLowerCase())?bL.warn("Hole filled twice",b_):void 0:void 0;}cn=b1.childNodes.length===1&&E.Equals(b1.firstChild.nodeType,Q.TEXT_NODE);if(cn){b5=_6.fillTextHole(cc,b1.firstChild.textContent,b_);((function(cr){return function(cs){if(cs!=null)cr(cs.$0);};}((b6=function(cr){return function(cs){return cr.Add(cs);};}(cd),function(cr){return b7(b6(cr));})))(b5));}_6.removeHolesExcept(cc,cd);if(!cn){for(co=0,cp=b1.childNodes.length-1;co<=cp;co++){cq=b1.childNodes[co];E.Equals(cq.nodeType,Q.ELEMENT_NODE)?cq.hasAttributes()?_6.fillInstanceAttrs(cc,cq):bW(cc,cq):void 0;}}_6.mapHoles(cc,ce);_6.fill(cc,b1.parentNode,b1);b1.parentNode.removeChild(b1);return;}}break;}}function bW(b0,b1){var b2,b4,b5;function b3(b6,b7){var b8,b9,b_;if(b4==="title"&&b1.hasChildNodes()){b8=bK.parseHTML(b1.textContent);b1.removeChild(b1.firstChild);for(b9=0,b_=b8.length-1;b9<=b_;b9++)b1.appendChild(n.get(b8,b9));}else null;bX(b1);return _6.fill(b1,b6,b7);}b4=b1.nodeName.toLowerCase();R.IterSelector(b0,"[ws-attr-holes]",function(b6){var b7,b8,b9,b_,b$;b7=bd.SplitChars(b6.getAttribute("ws-attr-holes"),[" "],1);for(b8=0,b9=b7.length-1;b8<=b9;b8++){b_=n.get(b7,b8);b6.setAttribute(b_,(b$=new a.RegExp("\\${"+b4+"}","ig"),b6.getAttribute(b_).replace(b$,b1.textContent)));}});b5=b0.querySelector("[ws-hole="+b4+"]");if(E.Equals(b5,null)){b2=b0.querySelector("[ws-replace="+b4+"]");return E.Equals(b2,null)?null:(b3(b2.parentNode,b2),void b2.parentNode.removeChild(b2));}else{while(b5.hasChildNodes())b5.removeChild(b5.lastChild);b5.removeAttribute("ws-hole");return b3(b5,null);}}function bX(b0){if(bd.StartsWith(b0.nodeName.toLowerCase(),"ws-"))bZ(b0);else{_6.convertAttrs(b0);bY(b0.firstChild);}}function bY(b0){return bV(0,b0);}function bZ(b0){return bV(1,b0);}bT=bR==null?y.FakeRoot(bQ):bR.$0;bU=(bP==null?"":bP.$0).toLowerCase();y.LoadedTemplateFile(bO).set_Item(bU,bT);n.length(bQ)>0?(function(b0){var b1,b2,b3,b4;while(true){b1=b0.querySelector("[ws-template]");if(E.Equals(b1,null)){b2=b0.querySelector("[ws-children-template]");if(E.Equals(b2,null))return null;else{b3=b2.getAttribute("ws-children-template");b2.removeAttribute("ws-children-template");y.PrepareTemplateStrict(bO,{$:1,$0:b3},R.ChildrenArray(b2),null,null);b0=b0;}}else{b4=b1.getAttribute("ws-template");(y.PrepareSingleTemplate(bO,{$:1,$0:b4},b1))(null);b0=b0;}}}(bT),bY(n.get(bQ,0))):void 0;};y.NamedTemplate=function(bO,bP,bQ){var bR,bS;bR=(bS=null,[y.LoadedTemplateFile(bO).TryGetValue(bP==null?"":bP.$0,{get:function(){return bS;},set:function(bT){bS=bT;}}),bS]);return bR[0]?y.ChildrenTemplate(bR[1].cloneNode(true),bQ):(bL.warn("Local template doesn't exist",bP),z.get_Empty());};y.PrepareSingleTemplate=function(bO,bP,bQ){var bR,bS,bT;bR=y.FakeRootSingle(bQ);bS=[bQ];bT={$:1,$0:bR};return function(bU){y.PrepareTemplateStrict(bO,bP,bS,bT,bU);};};y.ChildrenTemplate=function(bO,bP){var bQ,bR,bS,bT,bU;bQ=y.InlineTemplate(bO,bP);bR=bQ[1];bS=bQ[0];bT=bS.Els;return!E.Equals(bT,null)&&bT.length===1&&(n.get(bT,0)instanceof Q&&(E.Equals(n.get(bT,0).nodeType,Q.ELEMENT_NODE)&&(bU=n.get(bT,0),true)))?bl.TreeNode(bS,bR):z.Mk({$:6,$0:bS},bR);};y.TextHoleRE=function(){_0.$cctor();return _0.TextHoleRE;};y.InlineTemplate=function(bO,bP){var bQ,bR,bU,bV,bW,bX,bY,bZ,b0;function bS(b1,b2){var b3,b4,b5;b3=T.Insert(b1,b2);bV.push(T.Updates(b3));bW.push([b1,b3]);b4=bJ.GetOptional(b3.OnAfterRender);return b4==null?null:(b5=b4.$0,void bX.push(function(){b5(b1);}));}function bT(b1){var b2,b3;b2=(b3=null,[bY.TryGetValue(b1,{get:function(){return b3;},set:function(b4){b3=b4;}}),b3]);return b2[0]?b2[1].$==0?{$:1,$0:b2[1].$1}:b2[1].$==1?{$:1,$0:z.TextNode(b2[1].$1)}:b2[1].$==2?{$:1,$0:z.TextView(b2[1].$1)}:b2[1].$==8?{$:1,$0:z.TextView(b2[1].$1.get_View())}:b2[1].$==9?{$:1,$0:z.TextView(U.Map(a.String,b2[1].$1.get_View()))}:b2[1].$==10?{$:1,$0:z.TextView(U.Map(function(b4){return b4.get_Input();},b2[1].$1.get_View()))}:b2[1].$==11?{$:1,$0:z.TextView(U.Map(a.String,b2[1].$1.get_View()))}:b2[1].$==12?{$:1,$0:z.TextView(U.Map(function(b4){return b4.get_Input();},b2[1].$1.get_View()))}:b2[1].$==13?{$:1,$0:z.TextView(U.Map(a.String,b2[1].$1.get_View()))}:(bL.warn("Content hole filled with attribute data",b1),null):null;}bU=[];bV=[];bW=[];bX=[];bY=new J.New$5();bZ=Y.Get(bP);try{while(bZ.MoveNext()){b0=bZ.Current();bY.set_Item(b0.$0,b0);}}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}bQ=R.ChildrenArray(bO);R.IterSelector(bO,"[ws-hole]",function(b1){var b2,b3,b4;b4=b1.getAttribute("ws-hole");b1.removeAttribute("ws-hole");while(b1.hasChildNodes())b1.removeChild(b1.lastChild);b2=bT(b4);b2!=null&&b2.$==1?(b3=b2.$0,_3.LinkElement(b1,b3.docNode),bU.push(_9.New(T.Empty(b1),b3.docNode,null,b1,O.Int(),null)),bV.push(b3.updates)):void 0;});R.IterSelector(bO,"[ws-replace]",function(b1){var b2,b3,b4,b5,b6,b7;b2=bT(b1.getAttribute("ws-replace"));b2!=null&&b2.$==1?(b3=b2.$0,b4=b1.parentNode,b5=self.document.createTextNode(""),b4.replaceChild(b5,b1),b6=_3.InsertBeforeDelim(b5,b3.docNode),b7=n.tryFindIndex(function(b8){return b1===b8;},bQ),b7==null?void 0:n.set(bQ,b7.$0,b3.docNode),bU.push(_9.New(T.Empty(b4),b3.docNode,{$:1,$0:[b6,b5]},b4,O.Int(),null)),bV.push(b3.updates)):void 0;});R.IterSelector(bO,"[ws-attr]",function(b1){var b2,b3,b4;b2=b1.getAttribute("ws-attr");b1.removeAttribute("ws-attr");b3=(b4=null,[bY.TryGetValue(b2,{get:function(){return b4;},set:function(b5){b4=b5;}}),b4]);b3[0]?b3[1].$==3?bS(b1,b3[1].$1):bL.warn("Attribute hole filled with non-attribute data",b2):void 0;});R.IterSelector(bO,"[ws-on]",function(b1){bS(b1,p.Concat(n.choose(function(b2){var b3,b4,b5;b3=bd.SplitChars(b2,[":"],1);b4=(b5=null,[bY.TryGetValue(n.get(b3,1),{get:function(){return b5;},set:function(b6){b5=b6;}}),b5]);return b4[0]?b4[1].$==4?{$:1,$0:I.Handler(n.get(b3,0),b4[1].$1)}:b4[1].$==5?{$:1,$0:p.Handler(n.get(b3,0),b4[1].$2)}:(bL.warn("Event hole on"+n.get(b3,0)+" filled with non-event data",n.get(b3,1)),null):null;},bd.SplitChars(b1.getAttribute("ws-on"),[" "],1))));b1.removeAttribute("ws-on");});R.IterSelector(bO,"[ws-onafterrender]",function(b1){var b2,b3,b4;b2=b1.getAttribute("ws-onafterrender");b3=(b4=null,[bY.TryGetValue(b2,{get:function(){return b4;},set:function(b5){b4=b5;}}),b4]);b3[0]?b3[1].$==6?(b1.removeAttribute("ws-onafterrender"),bS(b1,I.OnAfterRender(b3[1].$1))):b3[1].$==7?(b1.removeAttribute("ws-onafterrender"),bS(b1,I.OnAfterRender(b3[1].$1))):bL.warn("onafterrender hole filled with non-onafterrender data",b2):void 0;});R.IterSelector(bO,"[ws-var]",function(b1){var b2,b3,b4;b2=b1.getAttribute("ws-var");b1.removeAttribute("ws-var");b3=(b4=null,[bY.TryGetValue(b2,{get:function(){return b4;},set:function(b5){b4=b5;}}),b4]);b3[0]?b3[1].$==8?bS(b1,I.Value(b3[1].$1)):b3[1].$==9?bS(b1,I.Checked(b3[1].$1)):b3[1].$==10?bS(b1,I.IntValue(b3[1].$1)):b3[1].$==11?bS(b1,I.IntValueUnchecked(b3[1].$1)):b3[1].$==12?bS(b1,I.FloatValue(b3[1].$1)):b3[1].$==13?bS(b1,I.FloatValueUnchecked(b3[1].$1)):bL.warn("Var hole filled with non-Var data",b2):void 0;});R.IterSelector(bO,"[ws-attr-holes]",function(b1){var b2,b3,b4,b5;b2=new a.RegExp(y.TextHoleRE(),"g");b3=bd.SplitChars(b1.getAttribute("ws-attr-holes"),[" "],1);b1.removeAttribute("ws-attr-holes");for(b4=0,b5=b3.length-1;b4<=b5;b4++)(function(){var b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg;cd=n.get(b3,b4);ce=b1.getAttribute(cd);b6=null;b7=0;cf=[];while(b6=b2.exec(ce),b6!==null){cg=_7.string(ce,{$:1,$0:b7},{$:1,$0:b2.lastIndex-n.get(b6,0).length-1});b7=b2.lastIndex;cf.push([cg,n.get(b6,1)]);}b9=_7.string(ce,{$:1,$0:b7},null);b2.lastIndex=0;b_=n.foldBack(function(ch,ci){return(function(cj){var ck,cl;ck=cj[0];cl=cj[1];return function(cm){var cn,co,cp,cq,cr;cn=cm[0];co=cm[1];cp=(cq=(cr=null,[bY.TryGetValue(cl,{get:function(){return cr;},set:function(cs){cr=cs;}}),cr]),cq[0]?cq[1].$==1?{$:0,$0:cq[1].$1}:cq[1].$==2?{$:1,$0:cq[1].$1}:cq[1].$==8?{$:1,$0:cq[1].$1.get_View()}:cq[1].$==9?{$:1,$0:U.Map(a.String,cq[1].$1.get_View())}:cq[1].$==10?{$:1,$0:U.Map(function(cs){return cs.get_Input();},cq[1].$1.get_View())}:cq[1].$==11?{$:1,$0:U.Map(a.String,cq[1].$1.get_View())}:cq[1].$==12?{$:1,$0:U.Map(function(cs){return cs.get_Input();},cq[1].$1.get_View())}:cq[1].$==13?{$:1,$0:U.Map(a.String,cq[1].$1.get_View())}:(bL.warn("Attribute value hole filled with non-text data",cl),{$:0,$0:""}):{$:0,$0:""});return cp.$==1?[ck,new H({$:1,$0:cn===""?cp.$0:U.Map(function(cs){return cs+cn;},cp.$0),$1:co})]:[ck+cp.$0+cn,co];};}(ch))(ci);},cf,[b9,H.Empty]);return bS(b1,b_[1].$==1?b_[1].$1.$==1?b_[1].$1.$1.$==1?b_[1].$1.$1.$1.$==0?(b$=b_[0],I.Dynamic(cd,U.Map3(function(ch,ci,cj){return b$+ch+ci+cj;},b_[1].$0,b_[1].$1.$0,b_[1].$1.$1.$0))):(ca=b_[0],I.Dynamic(cd,U.Map(function(ch){return ca+bd.concat("",ch);},U.Sequence(b_[1])))):(cb=b_[0],I.Dynamic(cd,U.Map2(function(ch,ci){return cb+ch+ci;},b_[1].$0,b_[1].$1.$0))):b_[0]===""?I.Dynamic(cd,b_[1].$0):(cc=b_[0],I.Dynamic(cd,U.Map(function(ch){return cc+ch;},b_[1].$0))):p.Create(cd,b_[0]));}());});return[bJ.DeleteEmptyFields({Els:bQ,Dirty:true,Holes:bU,Attrs:bW,Render:(bR=bX.length==0?null:{$:1,$0:function(b1){n.iter(function(b2){b2(b1);},bX);}},bR?bR.$0:void 0)},["Render"]),D.TreeReduce(U.Const(),U.Map2Unit,bV)];};z=g.Doc=bJ.Class({},i,z);z.RunById=function(bO,bP){var bQ;bQ=R.Doc().getElementById(bO);E.Equals(bQ,null)?f.FailWith("invalid id: "+bO):z.Run(bQ,bP);};z.Run=function(bO,bP){_3.LinkElement(bO,bP.docNode);z.RunInPlace(false,bO,bP);};z.RunInPlace=function(bO,bP,bQ){var bR;bR=_3.CreateRunState(bP,bQ.docNode);U.Sink($.get_UseAnimations()||ba.BatchUpdatesEnabled()?bb.StartProcessor(_3.PerformAnimatedUpdate(bO,bR,bQ.docNode)):function(){_3.PerformSyncUpdate(bO,bR,bQ.docNode);},bQ.updates);};z.get_Empty=function(){return z.Mk(null,U.Const());};z.Mk=function(bO,bP){return new z.New(bO,bP);};z.TextNode=function(bO){return z.Mk({$:5,$0:R.CreateText(bO)},U.Const());};z.TextView=function(bO){var bP;bP=_3.CreateTextNode();return z.Mk({$:4,$0:bP},U.Map(function(bQ){_3.UpdateTextNode(bP,bQ);},bO));};z.New=bJ.Ctor(function(bO,bP){i.New.call(this);this.docNode=bO;this.updates=bP;},z);A.NewFromSeq=function(bO){var bP,bQ,bR;bP={};bQ=Y.Get(bO);try{while(bQ.MoveNext()){bR=bQ.Current();bP[bR[0]]=bR[1];}}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}return bP;};C=B.List=bJ.Class({GetEnumerator:function(){return Y.Get(this);},GetEnumerator0:function(){return Y.Get0(this);}},null,C);D.ofSeqNonCopying=function(bO){var bP,bQ;if(bO instanceof a.Array)return bO;else if(bO instanceof H)return n.ofList(bO);else if(bO===null)return[];else{bP=[];bQ=Y.Get(bO);try{while(bQ.MoveNext())bP.push(bQ.Current());return bP;}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}}};D.TreeReduce=function(bO,bP,bQ){var bR;function bS(bT,bU){var bV,bW;return bU<=0?bO:bU===1&&(bT>=0&&bT<bR)?n.get(bQ,bT):(bW=bU/2>>0,bP(bS(bT,bW),bS(bT+bW,bU-bW)));}bR=n.length(bQ);return bS(0,bR);};D.MapTreeReduce=function(bO,bP,bQ,bR){var bS;function bT(bU,bV){var bW,bX;return bV<=0?bP:bV===1&&(bU>=0&&bU<bS)?bO(n.get(bR,bU)):(bX=bV/2>>0,bQ(bT(bU,bX),bT(bU+bX,bV-bX)));}bS=n.length(bR);return bT(0,bS);};E.Equals=function(bO,bP){var bQ,bR,bS,bT;if(bO===bP)return true;else{bQ=typeof bO;if(bQ=="object"){if(bO===null||bO===void 0||bP===null||bP===void 0)return false;else if("Equals"in bO)return bO.Equals(bP);else if(bO instanceof a.Array&&bP instanceof a.Array)return E.arrayEquals(bO,bP);else if(bO instanceof a.Date&&bP instanceof a.Date)return E.dateEquals(bO,bP);else{bR=[true];for(var bU in bO)if(function(bV){bR[0]=!bO.hasOwnProperty(bV)||bP.hasOwnProperty(bV)&&E.Equals(bO[bV],bP[bV]);return!bR[0];}(bU))break;if(bR[0]){for(var bV in bP)if(function(bW){bR[0]=!bP.hasOwnProperty(bW)||bO.hasOwnProperty(bW);return!bR[0];}(bV))break;}return bR[0];}}else return bQ=="function"&&("$Func"in bO?bO.$Func===bP.$Func&&bO.$Target===bP.$Target:"$Invokes"in bO&&"$Invokes"in bP&&E.arrayEquals(bO.$Invokes,bP.$Invokes));}};E.arrayEquals=function(bO,bP){var bQ,bR;if(n.length(bO)===n.length(bP)){bQ=true;bR=0;while(bQ&&bR<n.length(bO)){!E.Equals(n.get(bO,bR),n.get(bP,bR))?bQ=false:void 0;bR=bR+1;}return bQ;}else return false;};E.dateEquals=function(bO,bP){return bO.getTime()===bP.getTime();};E.Hash=function(bO){var bP;bP=typeof bO;return bP=="function"?0:bP=="boolean"?bO?1:0:bP=="number"?bO:bP=="string"?E.hashString(bO):bP=="object"?bO==null?0:bO instanceof a.Array?E.hashArray(bO):E.hashObject(bO):0;};E.hashString=function(bO){var bP,bQ,bR;if(bO===null)return 0;else{bP=5381;for(bQ=0,bR=bO.length-1;bQ<=bR;bQ++)bP=E.hashMix(bP,bO[bQ].charCodeAt());return bP;}};E.hashArray=function(bO){var bP,bQ,bR;bP=-34948909;for(bQ=0,bR=n.length(bO)-1;bQ<=bR;bQ++)bP=E.hashMix(bP,E.Hash(n.get(bO,bQ)));return bP;};E.hashObject=function(bO){var bP,bQ;if("GetHashCode"in bO)return bO.GetHashCode();else{bP=[0];for(var bR in bO)if(function(bS){bP[0]=E.hashMix(E.hashMix(bP[0],E.hashString(bS)),E.Hash(bO[bS]));return false;}(bR))break;return bP[0];}};E.hashMix=function(bO,bP){return(bO<<5)+bO+bP;};E.Compare=function(bO,bP){var bQ,bR,bS,bT,bU,bV;if(bO===bP)return 0;else{bR=typeof bO;switch(bR=="function"?1:bR=="boolean"?2:bR=="number"?2:bR=="string"?2:bR=="object"?3:0){case 0:return typeof bP=="undefined"?0:-1;break;case 1:return f.FailWith("Cannot compare function values.");break;case 2:return bO<bP?-1:1;break;case 3:if(bO===null)bS=-1;else if(bP===null)bS=1;else if("CompareTo"in bO)bS=bO.CompareTo(bP);else if("CompareTo0"in bO)bS=bO.CompareTo0(bP);else if(bO instanceof a.Array&&bP instanceof a.Array)bS=E.compareArrays(bO,bP);else if(bO instanceof a.Date&&bP instanceof a.Date)bS=E.compareDates(bO,bP);else{bT=[0];for(var bW in bO)if(function(bX){return!bO.hasOwnProperty(bX)?false:!bP.hasOwnProperty(bX)?(bT[0]=1,true):(bT[0]=E.Compare(bO[bX],bP[bX]),bT[0]!==0);}(bW))break;if(bT[0]===0){for(var bX in bP)if(function(bY){return!bP.hasOwnProperty(bY)?false:!bO.hasOwnProperty(bY)&&(bT[0]=-1,true);}(bX))break;}bS=bT[0];}return bS;break;}}};E.compareArrays=function(bO,bP){var bQ,bR;if(n.length(bO)<n.length(bP))return -1;else if(n.length(bO)>n.length(bP))return 1;else{bQ=0;bR=0;while(bQ===0&&bR<n.length(bO)){bQ=E.Compare(n.get(bO,bR),n.get(bP,bR));bR=bR+1;}return bQ;}};E.compareDates=function(bO,bP){return E.Compare(bO.getTime(),bP.getTime());};G.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bO){var bP,bQ;bP=bM.random()*16|0;bQ=bO=="x"?bP:bP&3|8;return bQ.toString(16);});};H=q.T=bJ.Class({GetEnumerator:function(){return new Z.New(this,null,function(bO){var bP;bP=bO.s;return bP.$==0?false:(bO.c=bP.$0,bO.s=bP.$1,true);},void 0);},GetEnumerator0:function(){return Y.Get(this);}},null,H);H.Empty=new H({$:0});I.Handler=function(bO,bP){return T.Static(function(bQ){bQ.addEventListener(bO,function(bR){return(bP(bQ))(bR);},false);});};I.OnAfterRender=function(bO){return new p({$:4,$0:bO});};I.Value=function(bO){function bP(bQ){return{$:1,$0:bQ};}return I.CustomValue(bO,a.id,function(bQ){return bP(a.id(bQ));});};I.Checked=function(bO){function bP(bQ,bR){return!E.Equals(bO.Get(),bQ.checked)?bO.Set(bQ.checked):null;}return p.Concat([I.DynamicProp("checked",bO.get_View()),I.Handler("change",function(bQ){return function(bR){return bP(bQ,bR);};})]);};I.IntValue=function(bO){return I.CustomVar(bO,function(bP,bQ){var bR;bR=bQ.get_Input();return bP.value!==bR?void(bP.value=bR):null;},function(bP){var bQ,bR,bS;bQ=bP.value;return{$:1,$0:bv.isBlank(bQ)?(bP.checkValidity?bP.checkValidity():true)?new V({$:2,$0:bQ}):new V({$:1,$0:bQ}):(bR=(bS=0,[W.TryParseInt32(bQ,{get:function(){return bS;},set:function(bT){bS=bT;}}),bS]),bR[0]?new V({$:0,$0:bR[1],$1:bQ}):new V({$:1,$0:bQ}))};});};I.IntValueUnchecked=function(bO){return I.CustomValue(bO,a.String,function(bP){var bQ;return bv.isBlank(bP)?{$:1,$0:0}:(bQ=+bP,bQ!==bQ>>0?null:{$:1,$0:bQ});});};I.FloatValue=function(bO){return I.CustomVar(bO,function(bP,bQ){var bR;bR=bQ.get_Input();return bP.value!==bR?void(bP.value=bR):null;},function(bP){var bQ,bR;bQ=bP.value;return{$:1,$0:bv.isBlank(bQ)?(bP.checkValidity?bP.checkValidity():true)?new V({$:2,$0:bQ}):new V({$:1,$0:bQ}):(bR=+bQ,a.isNaN(bR)?new V({$:1,$0:bQ}):new V({$:0,$0:bR,$1:bQ}))};});};I.FloatValueUnchecked=function(bO){return I.CustomValue(bO,a.String,function(bP){var bQ;return bv.isBlank(bP)?{$:1,$0:0}:(bQ=+bP,a.isNaN(bQ)?null:{$:1,$0:bQ});});};I.Dynamic=function(bO,bP){return T.Dynamic(bP,function(bQ){return function(bR){return R.SetAttr(bQ,bO,bR);};});};I.CustomValue=function(bO,bP,bQ){return I.CustomVar(bO,function(bR,bS){bR.value=bP(bS);},function(bR){return bQ(bR.value);});};I.DynamicProp=function(bO,bP){return T.Dynamic(bP,function(bQ){return function(bR){bQ[bO]=bR;};});};I.CustomVar=function(bO,bP,bQ){function bR(bT,bU){return bO.UpdateMaybe(function(bV){var bW,bX;bW=bQ(bT);return bW!=null&&bW.$==1&&(!E.Equals(bW.$0,bV)&&(bX=[bW,bW.$0],true))?bX[0]:null;});}function bS(bT,bU){var bV,bW;bV=bQ(bT);return bV!=null&&bV.$==1&&(E.Equals(bV.$0,bU)&&(bW=bV.$0,true))?null:bP(bT,bU);}return p.Concat([I.Handler("change",function(bT){return function(bU){return bR(bT,bU);};}),I.Handler("input",function(bT){return function(bU){return bR(bT,bU);};}),I.Handler("keypress",function(bT){return function(bU){return bR(bT,bU);};}),I.DynamicCustom(function(bT){return function(bU){return bS(bT,bU);};},bO.get_View())]);};I.DynamicCustom=function(bO,bP){return T.Dynamic(bP,bO);};J=B.Dictionary=bJ.Class({set_Item:function(bO,bP){this.set(bO,bP);},set:function(bO,bP){var bQ,bR,bS,bT;bQ=this;bR=this.hash(bO);bS=this.data[bR];bS==null?(this.count=this.count+1,this.data[bR]=new a.Array({K:bO,V:bP})):(bT=n.tryFindIndex(function(bU){return bQ.equals.apply(null,[(f.KeyValue(bU))[0],bO]);},bS),bT==null?(this.count=this.count+1,bS.push({K:bO,V:bP})):bS[bT.$0]={K:bO,V:bP});},ContainsKey:function(bO){var bP,bQ;bP=this;bQ=this.data[this.hash(bO)];return bQ==null?false:n.exists(function(bR){return bP.equals.apply(null,[(f.KeyValue(bR))[0],bO]);},bQ);},TryGetValue:function(bO,bP){var bQ,bR,bS;bQ=this;bR=this.data[this.hash(bO)];return bR==null?false:(bS=n.tryPick(function(bT){var bU;bU=f.KeyValue(bT);return bQ.equals.apply(null,[bU[0],bO])?{$:1,$0:bU[1]}:null;},bR),bS!=null&&bS.$==1&&(bP.set(bS.$0),true));},Remove:function(bO){return this.remove(bO);},get_Keys:function(){return new _8.New(this);},remove:function(bO){var bP,bQ,bR,bS;bP=this;bQ=this.hash(bO);bR=this.data[bQ];return bR==null?false:(bS=n.filter(function(bT){return!bP.equals.apply(null,[(f.KeyValue(bT))[0],bO]);},bR),n.length(bS)<bR.length&&(this.count=this.count-1,this.data[bQ]=bS,true));},get_Item:function(bO){return this.get(bO);},get:function(bO){var bP,bQ;bP=this;bQ=this.data[this.hash(bO)];return bQ==null?X.notPresent():n.pick(function(bR){var bS;bS=f.KeyValue(bR);return bP.equals.apply(null,[bS[0],bO])?{$:1,$0:bS[1]}:null;},bQ);},GetEnumerator:function(){return Y.Get0(this);},GetEnumerator0:function(){return Y.Get0(n.concat(t.GetFieldValues(this.data)));}},i,J);J.New$5=bJ.Ctor(function(){J.New$6.call(this,[],E.Equals,E.Hash);},J);J.New$6=bJ.Ctor(function(bO,bP,bQ){var bR,bS;i.New.call(this);this.equals=bP;this.hash=bQ;this.count=0;this.data=[];bR=Y.Get(bO);try{while(bR.MoveNext()){bS=bR.Current();this.set(bS.K,bS.V);}}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}},J);K=B.HashSet=bJ.Class({Add:function(bO){return this.add(bO);},Contains:function(bO){var bP;bP=this.data[this.hash(bO)];return bP==null?false:this.arrContains(bO,bP);},add:function(bO){var bP,bQ;bP=this.hash(bO);bQ=this.data[bP];return bQ==null?(this.data[bP]=[bO],this.count=this.count+1,true):this.arrContains(bO,bQ)?false:(bQ.push(bO),this.count=this.count+1,true);},arrContains:function(bO,bP){var bQ,bR,bS,bT;bQ=true;bR=0;bT=bP.length;while(bQ&&bR<bT)if(this.equals.apply(null,[bP[bR],bO]))bQ=false;else bR=bR+1;return!bQ;},ExceptWith:function(bO){var bP;bP=Y.Get(bO);try{while(bP.MoveNext())this.Remove(bP.Current());}finally{if(typeof bP=="object"&&"Dispose"in bP)bP.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bO){var bP,bQ,bR,bS;bP=0;bQ=bc.concat(this.data);for(bR=0,bS=bQ.length-1;bR<=bS;bR++)n.set(bO,bR,bQ[bR]);},IntersectWith:function(bO){var bP,bQ,bR,bS,bT;bP=new K.New$4(bO,this.equals,this.hash);bQ=bc.concat(this.data);for(bR=0,bS=bQ.length-1;bR<=bS;bR++){bT=bQ[bR];!bP.Contains(bT)?this.Remove(bT):void 0;}},Remove:function(bO){var bP;bP=this.data[this.hash(bO)];return bP==null?false:this.arrRemove(bO,bP)&&(this.count=this.count-1,true);},arrRemove:function(bO,bP){var bQ,bR,bS,bT;bQ=true;bR=0;bT=bP.length;while(bQ&&bR<bT)if(this.equals.apply(null,[bP[bR],bO])){bP.splice.apply(bP,[bR,1]);bQ=false;}else bR=bR+1;return!bQ;},GetEnumerator:function(){return Y.Get(bc.concat(this.data));},GetEnumerator0:function(){return Y.Get(bc.concat(this.data));}},i,K);K.New$3=bJ.Ctor(function(){K.New$4.call(this,[],E.Equals,E.Hash);},K);K.New$4=bJ.Ctor(function(bO,bP,bQ){var bR;i.New.call(this);this.equals=bP;this.hash=bQ;this.data=[];this.count=0;bR=Y.Get(bO);try{while(bR.MoveNext())this.add(bR.Current());}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}},K);K.New$2=bJ.Ctor(function(bO){K.New$4.call(this,bO,E.Equals,E.Hash);},K);L.Box=a.id;M.append=function(bO,bP){return{GetEnumerator:function(){var bQ,bR;bQ=Y.Get(bO);bR=[true];return new Z.New(bQ,null,function(bS){var bT;return bS.s.MoveNext()?(bS.c=bS.s.Current(),true):(bT=bS.s,!E.Equals(bT,null)?bT.Dispose():void 0,bS.s=null,bR[0]&&(bR[0]=false,bS.s=Y.Get(bP),bS.s.MoveNext()?(bS.c=bS.s.Current(),true):(bS.s.Dispose(),bS.s=null,false)));},function(bS){var bT;bT=bS.s;!E.Equals(bT,null)?bT.Dispose():void 0;});}};};M.head=function(bO){var bP;bP=Y.Get(bO);try{return bP.MoveNext()?bP.Current():M.insufficient();}finally{if(typeof bP=="object"&&"Dispose"in bP)bP.Dispose();}};M.fold=function(bO,bP,bQ){var bR,bS;bR=bP;bS=Y.Get(bQ);try{while(bS.MoveNext())bR=bO(bR,bS.Current());return bR;}finally{if(typeof bS=="object"&&"Dispose"in bS)bS.Dispose();}};M.iter=function(bO,bP){var bQ;bQ=Y.Get(bP);try{while(bQ.MoveNext())bO(bQ.Current());}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}};M.map=function(bO,bP){return{GetEnumerator:function(){var bQ;bQ=Y.Get(bP);return new Z.New(null,null,function(bR){return bQ.MoveNext()&&(bR.c=bO(bQ.Current()),true);},function(){bQ.Dispose();});}};};M.max=function(bO){var bP,bQ,bR;bP=Y.Get(bO);try{if(!bP.MoveNext())M.seqEmpty();bQ=bP.Current();while(bP.MoveNext()){bR=bP.Current();E.Compare(bR,bQ)===1?bQ=bR:void 0;}return bQ;}finally{if(typeof bP=="object"&&"Dispose"in bP)bP.Dispose();}};M.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};M.forall=function(bO,bP){return!M.exists(function(bQ){return!bO(bQ);},bP);};M.exists=function(bO,bP){var bQ,bR;bQ=Y.Get(bP);try{bR=false;while(!bR&&bQ.MoveNext())bR=bO(bQ.Current());return bR;}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}};n.choose=function(bO,bP){var bQ,bR,bS,bT;bQ=[];for(bR=0,bS=bP.length-1;bR<=bS;bR++){bT=bO(bP[bR]);bT==null?void 0:bQ.push(bT.$0);}return bQ;};n.ofList=function(bO){var bP,bQ;bQ=[];bP=bO;while(!(bP.$==0)){bQ.push(q.head(bP));bP=q.tail(bP);}return bQ;};n.tryFindIndex=function(bO,bP){var bQ,bR;bQ=null;bR=0;while(bR<bP.length&&bQ==null){bO(bP[bR])?bQ={$:1,$0:bR}:void 0;bR=bR+1;}return bQ;};n.exists=function(bO,bP){var bQ,bR,bS,bT;bQ=false;bR=0;bT=n.length(bP);while(!bQ&&bR<bT)if(bO(bP[bR]))bQ=true;else bR=bR+1;return bQ;};n.tryPick=function(bO,bP){var bQ,bR,bS;bQ=null;bR=0;while(bR<bP.length&&bQ==null){bS=bO(bP[bR]);bS!=null&&bS.$==1?bQ=bS:void 0;bR=bR+1;}return bQ;};n.concat=function(bO){return a.Array.prototype.concat.apply([],n.ofSeq(bO));};n.filter=function(bO,bP){var bQ,bR,bS;bQ=[];for(bR=0,bS=bP.length-1;bR<=bS;bR++)if(bO(bP[bR]))bQ.push(bP[bR]);return bQ;};n.map=function(bO,bP){var bQ,bR,bS;bQ=new a.Array(bP.length);for(bR=0,bS=bP.length-1;bR<=bS;bR++)bQ[bR]=bO(bP[bR]);return bQ;};n.iter=function(bO,bP){var bQ,bR;for(bQ=0,bR=bP.length-1;bQ<=bR;bQ++)bO(bP[bQ]);};n.foldBack=function(bO,bP,bQ){var bR,bS,bT,bU,bV;bR=bQ;bT=bP.length;for(bU=1,bV=bT;bU<=bV;bU++)bR=bO(bP[bT-bU],bR);return bR;};n.ofSeq=function(bO){var bP,bQ;if(bO instanceof a.Array)return bO.slice();else if(bO instanceof H)return n.ofList(bO);else{bP=[];bQ=Y.Get(bO);try{while(bQ.MoveNext())bP.push(bQ.Current());return bP;}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}}};n.pick=function(bO,bP){var bQ;bQ=n.tryPick(bO,bP);return bQ==null?f.FailWith("KeyNotFoundException"):bQ.$0;};n.create=function(bO,bP){var bQ,bR,bS;bQ=new a.Array(bO);for(bR=0,bS=bO-1;bR<=bS;bR++)bQ[bR]=bP;return bQ;};n.forall=function(bO,bP){var bQ,bR,bS,bT;bQ=true;bR=0;bT=n.length(bP);while(bQ&&bR<bT)if(bO(bP[bR]))bR=bR+1;else bQ=false;return bQ;};n.init=function(bO,bP){var bQ,bR,bS;bO<0?f.FailWith("Negative size given."):null;bQ=new a.Array(bO);for(bR=0,bS=bO-1;bR<=bS;bR++)bQ[bR]=bP(bR);return bQ;};O.Int=function(){O.set_counter(O.counter()+1);return O.counter();};O.set_counter=function(bO){_5.$cctor();_5.counter=bO;};O.counter=function(){_5.$cctor();return _5.counter;};R.Doc=function(){_2.$cctor();return _2.Doc;};R.ChildrenArray=function(bO){var bP,bQ,bR;bP=[];for(bQ=0,bR=bO.childNodes.length-1;bQ<=bR;bQ++)bP.push(bO.childNodes[bQ]);return bP;};R.IterSelector=function(bO,bP,bQ){var bR,bS,bT;bR=bO.querySelectorAll(bP);for(bS=0,bT=bR.length-1;bS<=bT;bS++)bQ(bR[bS]);};R.InsertAt=function(bO,bP,bQ){var bR;if(!(bQ.parentNode===bO&&bP===(bR=bQ.nextSibling,E.Equals(bR,null)?null:bR)))bO.insertBefore(bQ,bP);};R.CreateText=function(bO){return R.Doc().createTextNode(bO);};R.SetAttr=function(bO,bP,bQ){bO.setAttribute(bP,bQ);};R.RemoveNode=function(bO,bP){if(bP.parentNode===bO)bO.removeChild(bP);};T.AppendTree=function(bO,bP){var bQ;return bO===null?bP:bP===null?bO:(bQ=new p({$:2,$0:bO,$1:bP}),(T.SetFlags(bQ,T.Flags(bO)|T.Flags(bP)),bQ));};T.EmptyAttr=function(){_4.$cctor();return _4.EmptyAttr;};T.Static=function(bO){return new p({$:3,$0:bO});};T.SetFlags=function(bO,bP){bO.flags=bP;};T.Flags=function(bO){return bO!==null&&bO.hasOwnProperty("flags")?bO.flags:0;};T.Insert=function(bO,bP){var bQ,bR,bS;function bT(bU){if(!(bU===null))if(bU!=null&&bU.$==1)bQ.push(bU.$0);else if(bU!=null&&bU.$==2){bT(bU.$0);bT(bU.$1);}else if(bU!=null&&bU.$==3)bU.$0(bO);else if(bU!=null&&bU.$==4)bR.push(bU.$0);}bQ=[];bR=[];bT(bP);bS=bQ.slice(0);return bf.New(bO,T.Flags(bP),bS,bR.length===0?null:{$:1,$0:function(bU){M.iter(function(bV){bV(bU);},bR);}});};T.HasExitAnim=function(bO){var bP;bP=2;return(bO.DynFlags&bP)===bP;};T.GetExitAnim=function(bO){return T.GetAnim(bO,function(bP,bQ){return bP.NGetExitAnim(bQ);});};T.HasEnterAnim=function(bO){var bP;bP=1;return(bO.DynFlags&bP)===bP;};T.GetEnterAnim=function(bO){return T.GetAnim(bO,function(bP,bQ){return bP.NGetEnterAnim(bQ);});};T.HasChangeAnim=function(bO){var bP;bP=4;return(bO.DynFlags&bP)===bP;};T.GetChangeAnim=function(bO){return T.GetAnim(bO,function(bP,bQ){return bP.NGetChangeAnim(bQ);});};T.Updates=function(bO){return D.MapTreeReduce(function(bP){return bP.NChanged();},U.Const(),U.Map2Unit,bO.DynNodes);};T.Empty=function(bO){return bf.New(bO,0,[],null);};T.GetAnim=function(bO,bP){return $.Concat(n.map(function(bQ){return bP(bQ,bO.DynElem);},bO.DynNodes));};T.Sync=function(bO,bP){n.iter(function(bQ){bQ.NSync(bO);},bP.DynNodes);};T.Dynamic=function(bO,bP){return new p({$:1,$0:new bA.New(bO,bP)});};U=g.View=bJ.Class({},null,U);V=g.CheckedInput=bJ.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,V);W.TryParseInt32=function(bO,bP){return W.TryParse(bO,-2147483648,2147483647,bP);};X.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};Y.Get=function(bO){return bO instanceof a.Array?Y.ArrayEnumerator(bO):E.Equals(typeof bO,"string")?Y.StringEnumerator(bO):bO.GetEnumerator();};Y.ArrayEnumerator=function(bO){return new Z.New(0,null,function(bP){var bQ;bQ=bP.s;return bQ<n.length(bO)&&(bP.c=n.get(bO,bQ),bP.s=bQ+1,true);},void 0);};Y.StringEnumerator=function(bO){return new Z.New(0,null,function(bP){var bQ;bQ=bP.s;return bQ<bO.length&&(bP.c=bO[bQ],bP.s=bQ+1,true);},void 0);};Y.Get0=function(bO){return bO instanceof a.Array?Y.ArrayEnumerator(bO):E.Equals(typeof bO,"string")?Y.StringEnumerator(bO):"GetEnumerator0"in bO?bO.GetEnumerator0():bO.GetEnumerator();};Z=Y.T=bJ.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},i,Z);Z.New=bJ.Ctor(function(bO,bP,bQ,bR){i.New.call(this);this.s=bO;this.c=bP;this.n=bQ;this.d=bR;},Z);w.Obsolete=function(bO){var bP,bQ,bR,bS,bT;bQ=bO.s;if(bQ==null||(bQ!=null&&bQ.$==2?(bP=bQ.$1,false):bQ!=null&&bQ.$==3?(bP=bQ.$1,false):true))void 0;else{bO.s=null;for(bR=0,bS=n.length(bP)-1;bR<=bS;bR++){bT=n.get(bP,bR);typeof bT=="object"?function(bU){w.Obsolete(bU);}(bT):bT();}}};w.New=function(bO){return{s:bO};};_0.$cctor=function(){_0.$cctor=a.ignore;_0.LoadedTemplates=new J.New$5();_0.LocalTemplatesLoaded=false;_0.TextHoleRE="\\${([^}]+)}";};_2.$cctor=function(){_2.$cctor=a.ignore;_2.Doc=self.document;};_3.LinkElement=function(bO,bP){_3.InsertDoc(bO,bP,null);};_3.InsertDoc=function(bO,bP,bQ){var bR;return bP!=null&&bP.$==1?_3.InsertNode(bO,bP.$0.El,bQ):bP!=null&&bP.$==2?(bR=bP.$0,(bR.Dirty=false,_3.InsertDoc(bO,bR.Current,bQ))):bP==null?bQ:bP!=null&&bP.$==4?_3.InsertNode(bO,bP.$0.Text,bQ):bP!=null&&bP.$==5?_3.InsertNode(bO,bP.$0,bQ):bP!=null&&bP.$==6?n.foldBack(function(bS,bT){return bS==null||bS.constructor===S?_3.InsertDoc(bO,bS,bT):_3.InsertNode(bO,bS,bT);},bP.$0.Els,bQ):_3.InsertDoc(bO,bP.$0,_3.InsertDoc(bO,bP.$1,bQ));};_3.CreateRunState=function(bO,bP){return bh.New(bi.get_Empty(),_3.CreateElemNode(bO,T.EmptyAttr(),bP));};_3.PerformAnimatedUpdate=function(bO,bP,bQ){var bR;return $.get_UseAnimations()?(bR=null,bn.Delay(function(){var bS,bT,bU;bS=bi.FindAll(bQ);bT=_3.ComputeChangeAnim(bP,bS);bU=_3.ComputeEnterAnim(bP,bS);return bn.Bind($.Play($.Append(bT,_3.ComputeExitAnim(bP,bS))),function(){return bn.Bind(_3.SyncElemNodesNextFrame(bO,bP),function(){return bn.Bind($.Play(bU),function(){bP.PreviousNodes=bS;return bn.Return(null);});});});})):_3.SyncElemNodesNextFrame(bO,bP);};_3.PerformSyncUpdate=function(bO,bP,bQ){var bR;bR=bi.FindAll(bQ);_3.SyncElemNode(bO,bP.Top);bP.PreviousNodes=bR;};_3.InsertNode=function(bO,bP,bQ){R.InsertAt(bO,bQ,bP);return bP;};_3.CreateElemNode=function(bO,bP,bQ){var bR;_3.LinkElement(bO,bQ);bR=T.Insert(bO,bP);return _9.New(bR,bQ,null,bO,O.Int(),bJ.GetOptional(bR.OnAfterRender));};_3.SyncElemNodesNextFrame=function(bO,bP){function bQ(bR){a.requestAnimationFrame(function(){_3.SyncElemNode(bO,bP.Top);bR();});}return ba.BatchUpdatesEnabled()?bn.FromContinuations(function(bR,bS,bT){return bQ.apply(null,[bR,bS,bT]);}):(_3.SyncElemNode(bO,bP.Top),bn.Return(null));};_3.ComputeExitAnim=function(bO,bP){return $.Concat(n.map(function(bQ){return T.GetExitAnim(bQ.Attr);},bi.ToArray(bi.Except(bP,bi.Filter(function(bQ){return T.HasExitAnim(bQ.Attr);},bO.PreviousNodes)))));};_3.ComputeEnterAnim=function(bO,bP){return $.Concat(n.map(function(bQ){return T.GetEnterAnim(bQ.Attr);},bi.ToArray(bi.Except(bO.PreviousNodes,bi.Filter(function(bQ){return T.HasEnterAnim(bQ.Attr);},bP)))));};_3.ComputeChangeAnim=function(bO,bP){var bQ;function bR(bS){return T.HasChangeAnim(bS.Attr);}bQ=function(bS){return bi.Filter(bR,bS);};return $.Concat(n.map(function(bS){return T.GetChangeAnim(bS.Attr);},bi.ToArray(bi.Intersect(bQ(bO.PreviousNodes),bQ(bP)))));};_3.SyncElemNode=function(bO,bP){!bO?_3.SyncElement(bP):void 0;_3.Sync(bP.Children);_3.AfterRender(bP);};_3.SyncElement=function(bO){function bP(bQ){function bR(bS){var bT,bU;return bS!=null&&bS.$==0?bR(bS.$0)||bR(bS.$1):bS!=null&&bS.$==2?(bT=bS.$0,bT.Dirty||bR(bT.Current)):bS!=null&&bS.$==6&&(bU=bS.$0,bU.Dirty||n.exists(bP,bU.Holes));}return bR(bQ.Children);}T.Sync(bO.El,bO.Attr);bP(bO)?_3.DoSyncElement(bO):void 0;};_3.Sync=function(bO){var bP,bQ;if(bO!=null&&bO.$==1)_3.SyncElemNode(false,bO.$0);else if(bO!=null&&bO.$==2)_3.Sync(bO.$0.Current);else if(bO==null);else if(bO!=null&&bO.$==5);else if(bO!=null&&bO.$==4){bP=bO.$0;bP.Dirty?(bP.Text.nodeValue=bP.Value,bP.Dirty=false):void 0;}else if(bO!=null&&bO.$==6){bQ=bO.$0;n.iter(function(bR){_3.SyncElemNode(false,bR);},bQ.Holes);n.iter(function(bR){T.Sync(bR[0],bR[1]);},bQ.Attrs);_3.AfterRender(bQ);}else{_3.Sync(bO.$0);_3.Sync(bO.$1);}};_3.AfterRender=function(bO){var bP;bP=bJ.GetOptional(bO.Render);bP!=null&&bP.$==1?(bP.$0(bO.El),bJ.SetOptional(bO,"Render",null)):void 0;};_3.InsertBeforeDelim=function(bO,bP){var bQ,bR;bQ=bO.parentNode;bR=self.document.createTextNode("");bQ.insertBefore(bR,bO);_3.LinkPrevElement(bO,bP);return bR;};_3.DoSyncElement=function(bO){var bP,bQ,bR;function bS(bT,bU){var bV,bW;return bT!=null&&bT.$==1?bT.$0.El:bT!=null&&bT.$==2?(bV=bT.$0,bV.Dirty?(bV.Dirty=false,_3.InsertDoc(bP,bV.Current,bU)):bS(bV.Current,bU)):bT==null?bU:bT!=null&&bT.$==4?bT.$0.Text:bT!=null&&bT.$==5?bT.$0:bT!=null&&bT.$==6?(bW=bT.$0,(bW.Dirty?bW.Dirty=false:void 0,n.foldBack(function(bX,bY){return bX==null||bX.constructor===S?bS(bX,bY):bX;},bW.Els,bU))):bS(bT.$0,bS(bT.$1,bU));}bP=bO.El;by.Iter((bQ=bO.El,function(bT){R.RemoveNode(bQ,bT);}),by.Except(by.DocChildren(bO),by.Children(bO.El,bJ.GetOptional(bO.Delimiters))));bS(bO.Children,(bR=bJ.GetOptional(bO.Delimiters),bR!=null&&bR.$==1?bR.$0[1]:null));};_3.CreateTextNode=function(){return{Text:R.CreateText(""),Dirty:false,Value:""};};_3.UpdateTextNode=function(bO,bP){bO.Value=bP;bO.Dirty=true;};_3.LinkPrevElement=function(bO,bP){_3.InsertDoc(bO.parentNode,bP,bO);};_4.$cctor=function(){_4.$cctor=a.ignore;_4.EmptyAttr=null;};_5.$cctor=function(){_5.$cctor=a.ignore;_5.counter=0;};_6.convertTextNode=function(bO){var bP,bQ,bR,bS,bT,bU;bP=null;bQ=0;bS=bO.textContent;bT=new a.RegExp(y.TextHoleRE(),"g");while(bP=bT.exec(bS),bP!==null){bO.parentNode.insertBefore(self.document.createTextNode(_7.string(bS,{$:1,$0:bQ},{$:1,$0:bT.lastIndex-n.get(bP,0).length-1})),bO);bQ=bT.lastIndex;bU=self.document.createElement("span");bU.setAttribute("ws-replace",n.get(bP,1).toLowerCase());bO.parentNode.insertBefore(bU,bO);}bT.lastIndex=0;bO.textContent=_7.string(bS,{$:1,$0:bQ},null);};_6.failNotLoaded=function(bO){bL.warn("Instantiating non-loaded template",bO);};_6.fillTextHole=function(bO,bP,bQ){var bR;bR=bO.querySelector("[ws-replace]");return E.Equals(bR,null)?(bL.warn("Filling non-existent text hole",bQ),null):(bR.parentNode.replaceChild(new a.Text(bP),bR),{$:1,$0:bR.getAttribute("ws-replace")});};_6.removeHolesExcept=function(bO,bP){function bQ(bR){R.IterSelector(bO,"["+bR+"]",function(bS){if(!bP.Contains(bS.getAttribute(bR)))bS.removeAttribute(bR);});}bQ("ws-attr");bQ("ws-onafterrender");bQ("ws-var");R.IterSelector(bO,"[ws-hole]",function(bR){if(!bP.Contains(bR.getAttribute("ws-hole"))){bR.removeAttribute("ws-hole");while(bR.hasChildNodes())bR.removeChild(bR.lastChild);}});R.IterSelector(bO,"[ws-replace]",function(bR){if(!bP.Contains(bR.getAttribute("ws-replace")))bR.parentNode.removeChild(bR);});R.IterSelector(bO,"[ws-on]",function(bR){bR.setAttribute("ws-on",bd.concat(" ",n.filter(function(bS){return bP.Contains(n.get(bd.SplitChars(bS,[":"],1),1));},bd.SplitChars(bR.getAttribute("ws-on"),[" "],1))));});R.IterSelector(bO,"[ws-attr-holes]",function(bR){var bS,bT,bU,bV,bW;bS=bd.SplitChars(bR.getAttribute("ws-attr-holes"),[" "],1);for(bT=0,bU=bS.length-1;bT<=bU;bT++){bV=n.get(bS,bT);bR.setAttribute(bV,(bW=new a.RegExp(y.TextHoleRE(),"g"),bR.getAttribute(bV).replace(bW,function(bX,bY){return bP.Contains(bY)?bX:"";})));}});};_6.fillInstanceAttrs=function(bO,bP){var bQ,bR,bS,bT,bU;_6.convertAttrs(bP);bQ=bP.nodeName.toLowerCase();bR=bO.querySelector("[ws-attr="+bQ+"]");if(E.Equals(bR,null))bL.warn("Filling non-existent attr hole",bQ);else{bR.removeAttribute("ws-attr");for(bS=0,bT=bP.attributes.length-1;bS<=bT;bS++){bU=bP.attributes.item(bS);bU.name==="class"&&bR.hasAttribute("class")?bR.setAttribute("class",bR.getAttribute("class")+" "+bU.nodeValue):bR.setAttribute(bU.name,bU.nodeValue);}}};_6.mapHoles=function(bO,bP){function bQ(bR){R.IterSelector(bO,"["+bR+"]",function(bS){var bT,bU;bT=(bU=null,[bP.TryGetValue(bS.getAttribute(bR).toLowerCase(),{get:function(){return bU;},set:function(bV){bU=bV;}}),bU]);bT[0]?bS.setAttribute(bR,bT[1]):void 0;});}bQ("ws-hole");bQ("ws-replace");bQ("ws-attr");bQ("ws-onafterrender");bQ("ws-var");R.IterSelector(bO,"[ws-on]",function(bR){bR.setAttribute("ws-on",bd.concat(" ",n.map(function(bS){var bT,bU,bV;bT=bd.SplitChars(bS,[":"],1);bU=(bV=null,[bP.TryGetValue(n.get(bT,1),{get:function(){return bV;},set:function(bW){bV=bW;}}),bV]);return bU[0]?n.get(bT,0)+":"+bU[1]:bS;},bd.SplitChars(bR.getAttribute("ws-on"),[" "],1))));});R.IterSelector(bO,"[ws-attr-holes]",function(bR){var bS,bT,bU;bS=bd.SplitChars(bR.getAttribute("ws-attr-holes"),[" "],1);for(bT=0,bU=bS.length-1;bT<=bU;bT++)(function(){var bV;function bW(bX,bY){var bZ;bZ=f.KeyValue(bY);return bX.replace(new a.RegExp("\\${"+bZ[0]+"}","ig"),"${"+bZ[1]+"}");}bV=n.get(bS,bT);return bR.setAttribute(bV,(((bJ.Curried3(M.fold))(bW))(bR.getAttribute(bV)))(bP));}());});};_6.fill=function(bO,bP,bQ){while(true)if(bO.hasChildNodes())bQ=bP.insertBefore(bO.lastChild,bQ);else return null;};_6.convertAttrs=function(bO){var bQ,bR,bS,bT,bU,bV,bW,bX;function bP(bY){var bZ;bZ=bO.getAttribute(bY);bZ===null?void 0:bO.setAttribute(bY,bZ.toLowerCase());}bQ=bO.attributes;bR=[];bS=[];bT=[];for(bU=0,bV=bQ.length-1;bU<=bV;bU++){bW=bQ.item(bU);bd.StartsWith(bW.nodeName,"ws-on")&&bW.nodeName!=="ws-onafterrender"&&bW.nodeName!=="ws-on"?(bR.push(bW.nodeName),bS.push(_7.string(bW.nodeName,{$:1,$0:"ws-on".length},null)+":"+bW.nodeValue.toLowerCase())):!bd.StartsWith(bW.nodeName,"ws-")&&(new a.RegExp(y.TextHoleRE())).test(bW.nodeValue)?(bW.nodeValue=(bX=new a.RegExp(y.TextHoleRE(),"g"),bW.nodeValue.replace(bX,function(bY,bZ){return"${"+bZ.toLowerCase()+"}";})),bT.push(bW.nodeName)):void 0;}!(bS.length==0)?bO.setAttribute("ws-on",bd.concat(" ",bS)):void 0;!(bT.length==0)?bO.setAttribute("ws-attr-holes",bd.concat(" ",bT)):void 0;bP("ws-hole");bP("ws-replace");bP("ws-attr");bP("ws-onafterrender");bP("ws-var");n.iter(function(bY){bO.removeAttribute(bY);},bR);};_7.string=function(bO,bP,bQ){return bP==null?bQ!=null&&bQ.$==1?bO.slice(0,bQ.$0+1):"":bQ==null?bO.slice(bP.$0):bO.slice(bP.$0,bQ.$0+1);};M.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};_8=B.KeyCollection=bJ.Class({GetEnumerator$1:function(){return Y.Get(M.map(function(bO){return bO.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},i,_8);_8.New=bJ.Ctor(function(bO){i.New.call(this);this.d=bO;},_8);_9=g.DocElemNode=bJ.Class({Equals:function(bO){return this.ElKey===bO.ElKey;},GetHashCode:function(){return this.ElKey;}},null,_9);_9.New=function(bO,bP,bQ,bR,bS,bT){var bU;return new _9((bU={Attr:bO,Children:bP,El:bR,ElKey:bS},(bJ.SetOptional(bU,"Delimiters",bQ),bJ.SetOptional(bU,"Render",bT),bU)));};U.Sink=function(bO,bP){function bQ(){w.WhenRun(bP(),bO,function(){bn.scheduler().Fork(bQ);});}bn.scheduler().Fork(bQ);};U.Const=function(bO){var bP;bP=w.New({$:0,$0:bO});return function(){return bP;};};U.Map=function(bO,bP){return U.CreateLazy(function(){return w.Map(bO,bP());});};U.Map3=function(bO,bP,bQ,bR){return U.CreateLazy(function(){return w.Map3(bO,bP(),bQ(),bR());});};U.Sequence=function(bO){return U.CreateLazy(function(){return w.Sequence(M.map(function(bP){return bP();},bO));});};U.Map2=function(bO,bP,bQ){return U.CreateLazy(function(){return w.Map2(bO,bP(),bQ());});};U.Map2Unit=function(bO,bP){return U.CreateLazy(function(){return w.Map2Unit(bO(),bP());});};U.CreateLazy=function(bO){var bP;bP={c:null,o:bO};return function(){var bQ,bR;bQ=bP.c;return bQ===null?(bQ=bP.o(),bP.c=bQ,(bR=bQ.s,bR!=null&&bR.$==0)?bP.o=null:w.WhenObsoleteRun(bQ,function(){bP.c=null;}),bQ):bQ;};};$.get_UseAnimations=function(){return bj.UseAnimations();};$.Play=function(bO){var bP;bP=null;return bn.Delay(function(){return bn.Bind($.Run(a.ignore,bj.Actions(bO)),function(){bj.Finalize(bO);return bn.Return(null);});});};$.Append=function(bO,bP){return{$:0,$0:bo.Append(bO.$0,bP.$0)};};$.Run=function(bO,bP){var bQ;function bR(bS){function bT(bU,bV){var bW;bW=bV-bU;bP.Compute(bW);bO();return bW<=bQ?void a.requestAnimationFrame(function(bX){bT(bU,bX);}):bS();}a.requestAnimationFrame(function(bU){bT(bU,bU);});}bQ=bP.Duration;return bQ===0?bn.Zero():bn.FromContinuations(function(bS,bT,bU){return bR.apply(null,[bS,bT,bU]);});};$.Concat=function(bO){return{$:0,$0:bo.Concat(M.map(bj.List,bO))};};$.get_Empty=function(){return{$:0,$0:bo.Empty()};};ba.BatchUpdatesEnabled=function(){bk.$cctor();return bk.BatchUpdatesEnabled;};bb.StartProcessor=function(bO){var bP;function bQ(){var bR;bR=null;return bn.Delay(function(){return bn.Bind(bO,function(){var bS;bS=bP[0];return bS===1?(bP[0]=0,bn.Zero()):bS===2?(bP[0]=1,bQ()):bn.Zero();});});}bP=[0];return function(){var bR;bR=bP[0];bR===0?(bP[0]=1,bn.Start(bQ(),null)):bR===1?bP[0]=2:void 0;};};bc.concat=function(bO){var bP,bQ;bP=[];for(var bR in bO)bP.push.apply(bP,bO[bR]);return bP;};bd.concat=function(bO,bP){return n.ofSeq(bP).join(bO);};bd.SplitChars=function(bO,bP,bQ){return bd.Split(bO,new a.RegExp("["+bd.RegexEscape(bP.join(""))+"]"),bQ);};bd.StartsWith=function(bO,bP){return bO.substring(0,bP.length)==bP;};bd.Split=function(bO,bP,bQ){return bQ===1?n.filter(function(bR){return bR!=="";},bd.SplitWith(bO,bP)):bd.SplitWith(bO,bP);};bd.RegexEscape=function(bO){return bO.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bd.SplitWith=function(bO,bP){return bO.split(bP);};bd.forall=function(bO,bP){return M.forall(bO,bd.protect(bP));};bd.protect=function(bO){return bO===null?"":bO;};bf.New=function(bO,bP,bQ,bR){var bS;bS={DynElem:bO,DynFlags:bP,DynNodes:bQ};bJ.SetOptional(bS,"OnAfterRender",bR);return bS;};bh.New=function(bO,bP){return{PreviousNodes:bO,Top:bP};};bi.get_Empty=function(){return{$:0,$0:new K.New$3()};};bi.FindAll=function(bO){var bP;function bQ(bS){if(bS!=null&&bS.$==0){bQ(bS.$0);bQ(bS.$1);}else if(bS!=null&&bS.$==1)bR(bS.$0);else if(bS!=null&&bS.$==2)bQ(bS.$0.Current);else if(bS!=null&&bS.$==6)n.iter(bR,bS.$0.Holes);}function bR(bS){bP.push(bS);bQ(bS.Children);}bP=[];bQ(bO);return{$:0,$0:new K.New$2(bP)};};bi.Filter=function(bO,bP){return{$:0,$0:bu.Filter(bO,bP.$0)};};bi.Except=function(bO,bP){return{$:0,$0:bu.Except(bO.$0,bP.$0)};};bi.ToArray=function(bO){return bu.ToArray(bO.$0);};bi.Intersect=function(bO,bP){return{$:0,$0:bu.Intersect(bO.$0,bP.$0)};};bj.UseAnimations=function(){bm.$cctor();return bm.UseAnimations;};bj.Actions=function(bO){return bj.ConcatActions(n.choose(function(bP){return bP.$==1?{$:1,$0:bP.$0}:null;},bo.ToArray(bO.$0)));};bj.Finalize=function(bO){n.iter(function(bP){if(bP.$==0)bP.$0();},bo.ToArray(bO.$0));};bj.ConcatActions=function(bO){var bP,bQ,bR,bS;bP=D.ofSeqNonCopying(bO);bQ=n.length(bP);return bQ===0?bj.Const():bQ===1?n.get(bP,0):(bR=M.max(M.map(function(bT){return bT.Duration;},bP)),(bS=n.map(function(bT){return bj.Prolong(bR,bT);},bP),bj.Def(bR,function(bT){n.iter(function(bU){bU.Compute(bT);},bS);})));};bj.List=function(bO){return bO.$0;};bj.Const=function(bO){return bj.Def(0,function(){return bO;});};bj.Def=function(bO,bP){return{Compute:bP,Duration:bO};};bj.Prolong=function(bO,bP){var bQ,bR,bS;bQ=bP.Compute;bR=bP.Duration;bS=bD.Create(function(){return bP.Compute(bP.Duration);});return{Compute:function(bT){return bT>=bR?bS.f():bQ(bT);},Duration:bO};};bk.$cctor=function(){bk.$cctor=a.ignore;bk.BatchUpdatesEnabled=true;};bl=g.Elt=bJ.Class({},z,bl);bl.TreeNode=function(bO,bP){var bQ,bR;function bS(bT){return bT[1];}bQ=bp.Create(bP);return new bl.New$1({$:6,$0:bO},U.Map2Unit((bR=n.map(function(bT){return T.Updates(bS(bT));},bO.Attrs),D.TreeReduce(U.Const(),U.Map2Unit,bR)),bQ.v),n.get(bO.Els,0),bQ);};bl.New$1=bJ.Ctor(function(bO,bP,bQ,bR){z.New.call(this,bO,bP);this.docNode$1=bO;this.updates$1=bP;this.elt=bQ;this.rvUpdates=bR;},bl);bm.$cctor=function(){bm.$cctor=a.ignore;bm.CubicInOut=bq.Custom(function(bO){var bP;bP=bO*bO;return 3*bP-2*(bP*bO);});bm.UseAnimations=true;};bn.Delay=function(bO){return function(bP){try{(bO(null))(bP);}catch(bQ){bP.k({$:1,$0:bQ});}};};bn.Bind=function(bO,bP){return bn.checkCancel(function(bQ){bO(br.New(function(bR){var bS;if(bR.$==0){bS=bR.$0;bn.scheduler().Fork(function(){try{(bP(bS))(bQ);}catch(bT){bQ.k({$:1,$0:bT});}});}else bn.scheduler().Fork(function(){bQ.k(bR);});},bQ.ct));});};bn.Zero=function(){bs.$cctor();return bs.Zero;};bn.Start=function(bO,bP){var bQ,bR;bQ=(bR=(bn.defCTS())[0],bP==null?bR:bP.$0);bn.scheduler().Fork(function(){if(!bQ.c)bO(br.New(function(bS){if(bS.$==1)bn.UncaughtAsyncError(bS.$0);},bQ));});};bn.Return=function(bO){return function(bP){bP.k({$:0,$0:bO});};};bn.checkCancel=function(bO){return function(bP){if(bP.ct.c)bn.cancel(bP);else bO(bP);};};bn.defCTS=function(){bs.$cctor();return bs.defCTS;};bn.UncaughtAsyncError=function(bO){bL.log("WebSharper: Uncaught asynchronous exception",bO);};bn.FromContinuations=function(bO){return function(bP){var bQ;function bR(bS){if(bQ[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bQ[0]=true;bn.scheduler().Fork(bS);}}bQ=[false];bO(function(bS){bR(function(){bP.k({$:0,$0:bS});});},function(bS){bR(function(){bP.k({$:1,$0:bS});});},function(bS){bR(function(){bP.k({$:2,$0:bS});});});};};bn.cancel=function(bO){bO.k({$:2,$0:new bC.New(bO.ct)});};bn.scheduler=function(){bs.$cctor();return bs.scheduler;};bo.Append=function(bO,bP){return bO.$==0?bP:bP.$==0?bO:{$:2,$0:bO,$1:bP};};bo.ToArray=function(bO){var bP;function bQ(bR){if(bR.$==1)bP.push(bR.$0);else if(bR.$==2){bQ(bR.$0);bQ(bR.$1);}else if(bR.$==3)n.iter(function(bS){bP.push(bS);},bR.$0);}bP=[];bQ(bO);return bP.slice(0);};bo.Concat=function(bO){var bP;bP=D.ofSeqNonCopying(bO);return D.TreeReduce(bo.Empty(),bo.Append,bP);};bo.Empty=function(){bE.$cctor();return bE.Empty;};bp=g.Updates=bJ.Class({},null,bp);bp.Create=function(bO){var bP;bP=null;bP=bp.New(bO,null,function(){var bQ;bQ=bP.s;return bQ===null?(bQ=w.Copy(bP.c()),bP.s=bQ,w.WhenObsoleteRun(bQ,function(){bP.s=null;}),bQ):bQ;});return bP;};bp.New=function(bO,bP,bQ){return new bp({c:bO,s:bP,v:bQ});};bq=g.Easing=bJ.Class({},i,bq);bq.Custom=function(bO){return new bq.New(bO);};bq.New=bJ.Ctor(function(bO){i.New.call(this);this.transformTime=bO;},bq);br.New=function(bO,bP){return{k:bO,ct:bP};};bs.$cctor=function(){bs.$cctor=a.ignore;bs.noneCT=bt.New(false,[]);bs.scheduler=new bw.New();bs.defCTS=[new bx.New()];bs.Zero=bn.Return();bs.GetCT=function(bO){bO.k({$:0,$0:bO.ct});};};bt.New=function(bO,bP){return{c:bO,r:bP};};bu.Filter=function(bO,bP){return new K.New$2(n.filter(bO,bu.ToArray(bP)));};bu.Except=function(bO,bP){var bQ;bQ=new K.New$2(bu.ToArray(bP));bQ.ExceptWith(bu.ToArray(bO));return bQ;};bu.ToArray=function(bO){var bP;bP=n.create(bO.get_Count(),void 0);bO.CopyTo(bP);return bP;};bu.Intersect=function(bO,bP){var bQ;bQ=new K.New$2(bu.ToArray(bO));bQ.IntersectWith(bu.ToArray(bP));return bQ;};bv.isBlank=function(bO){return bd.forall(bz.IsWhiteSpace,bO);};bw=bn.Scheduler=bJ.Class({Fork:function(bO){var bP;bP=this;this.robin.push(bO);this.idle?(this.idle=false,a.setTimeout(function(){bP.tick();},0)):void 0;},tick:function(){var bO,bP,bQ;bP=this;bQ=bN.now();bO=true;while(bO)if(this.robin.length===0){this.idle=true;bO=false;}else{(this.robin.shift())();bN.now()-bQ>40?(a.setTimeout(function(){bP.tick();},0),bO=false):void 0;}}},i,bw);bw.New=bJ.Ctor(function(){i.New.call(this);this.idle=true;this.robin=[];},bw);bx=e.CancellationTokenSource=bJ.Class({},i,bx);bx.New=bJ.Ctor(function(){i.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bx);by.Children=function(bO,bP){var bQ,bR,bS;if(bP!=null&&bP.$==1){bS=[];bQ=bP.$0[0].nextSibling;while(bQ!==bP.$0[1]){bS.push(bQ);bQ=bQ.nextSibling;}return{$:0,$0:bS};}else return{$:0,$0:n.init(bO.childNodes.length,(bR=bO.childNodes,function(bT){return bR[bT];}))};};by.Except=function(bO,bP){var bQ;bQ=bO.$0;return{$:0,$0:n.filter(function(bR){return n.forall(function(bS){return!(bR===bS);},bQ);},bP.$0)};};by.Iter=function(bO,bP){n.iter(bO,bP.$0);};by.DocChildren=function(bO){var bP;function bQ(bR){if(bR!=null&&bR.$==2)bQ(bR.$0.Current);else if(bR!=null&&bR.$==1)bP.push(bR.$0.El);else if(bR==null);else if(bR!=null&&bR.$==5)bP.push(bR.$0);else if(bR!=null&&bR.$==4)bP.push(bR.$0.Text);else if(bR!=null&&bR.$==6)n.iter(function(bS){if(bS==null||bS.constructor===S)bQ(bS);else bP.push(bS);},bR.$0.Els);else{bQ(bR.$0);bQ(bR.$1);}}bP=[];bQ(bO.Children);return{$:0,$0:D.ofSeqNonCopying(bP)};};bz.IsWhiteSpace=function(bO){return bO.match(new a.RegExp("\\s"))!==null;};W.TryParse=function(bO,bP,bQ,bR){var bS,bT;bS=+bO;bT=bS===bS-bS%1&&bS>=bP&&bS<=bQ;bT?bR.set(bS):void 0;return bT;};bA=g.DynamicAttrNode=bJ.Class({NGetExitAnim:function(bO){return $.get_Empty();},NGetEnterAnim:function(bO){return $.get_Empty();},NGetChangeAnim:function(bO){return $.get_Empty();},NChanged:function(){return this.updates;},NSync:function(bO){if(this.dirty){(this.push(bO))(this.value);this.dirty=false;}}},i,bA);bA.New=bJ.Ctor(function(bO,bP){var bQ;bQ=this;i.New.call(this);this.push=bP;this.value=void 0;this.dirty=false;this.updates=U.Map(function(bR){bQ.value=bR;bQ.dirty=true;},bO);},bA);bC=e.OperationCanceledException=bJ.Class({},bB,bC);bC.New=bJ.Ctor(function(bO){bC.New$1.call(this,"The operation was canceled.",null,bO);},bC);bC.New$1=bJ.Ctor(function(bO,bP,bQ){this.message=bO;this.inner=bP;S.setPrototypeOf(this,bC.prototype);this.ct=bQ;},bC);bD.Create=function(bO){return bG.New(false,bO,bD.forceLazy);};bD.forceLazy=function(){var bO;bO=this.v();this.c=true;this.v=bO;this.f=bD.cachedLazy;return bO;};bD.cachedLazy=function(){return this.v;};bE.$cctor=function(){bE.$cctor=a.ignore;bE.Empty={$:0};};bG.New=function(bO,bP,bQ){return{c:bO,v:bP,f:bQ};};bH.Clear=function(bO){bO.splice(0,n.length(bO));};bJ.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
