function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){window.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ;a=window;b=a.WebSharperTerminalSample=a.WebSharperTerminalSample||{};c=b.Client=b.Client||{};d=a.StartupCode$WebSharper_JQueryTerminal_Tests$Client=a.StartupCode$WebSharper_JQueryTerminal_Tests$Client||{};e=a.WebSharper=a.WebSharper||{};f=e.Operators=e.Operators||{};g=e.UI=e.UI||{};h=g.Var=g.Var||{};i=e.Unchecked=e.Unchecked||{};j=a.System=a.System||{};k=j.Guid=j.Guid||{};l=e.Obj=e.Obj||{};m=e.List=e.List||{};n=m.T=m.T||{};o=e.Arrays=e.Arrays||{};p=g.AttrProxy=g.AttrProxy||{};q=e.JavaScript=e.JavaScript||{};r=q.JSModule=q.JSModule||{};s=g.Templating=g.Templating||{};t=s.Runtime=s.Runtime||{};u=t.Server=t.Server||{};v=u.Handler=u.Handler||{};w=u.TemplateInstance=u.TemplateInstance||{};x=a.WebSharper$JQueryTerminal$Tests_Templates=a.WebSharper$JQueryTerminal$Tests_Templates||{};y=g.ConcreteVar=g.ConcreteVar||{};z=g.Snap=g.Snap||{};A=g.AttrModule=g.AttrModule||{};B=g.Array=g.Array||{};C=e.Collections=e.Collections||{};D=C.Dictionary=C.Dictionary||{};E=C.HashSet=C.HashSet||{};F=t.Client=t.Client||{};G=e.Seq=e.Seq||{};H=g.Client=g.Client||{};I=H.Templates=H.Templates||{};J=q.Pervasives=q.Pervasives||{};K=g.Doc=g.Doc||{};L=g.Abbrev=g.Abbrev||{};M=L.Fresh=L.Fresh||{};N=g.Attrs=g.Attrs||{};O=a.Object;P=C.DictionaryUtil=C.DictionaryUtil||{};Q=e.Enumerator=e.Enumerator||{};R=Q.T=Q.T||{};S=a.EventTarget;T=a.Node;U=g.DomUtility=g.DomUtility||{};V=g.View=g.View||{};W=e.Numeric=e.Numeric||{};X=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};Y=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};Z=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};_0=g.Docs=g.Docs||{};_1=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_2=g.DocElemNode=g.DocElemNode||{};_3=a.CharacterData;_4=I.Prepare=I.Prepare||{};_5=e.Slice=e.Slice||{};_6=C.KeyCollection=C.KeyCollection||{};_7=g.An=g.An||{};_8=H.Settings=H.Settings||{};_9=L.Mailbox=L.Mailbox||{};_=C.HashSetUtil=C.HashSetUtil||{};$=H.Attrs=H.Attrs||{};ba=$.Dyn=$.Dyn||{};bb=g.Elt=g.Elt||{};bc=e.Strings=e.Strings||{};bd=H.Docs=H.Docs||{};be=bd.RunState=bd.RunState||{};bf=bd.NodeSet=bd.NodeSet||{};bg=g.Anims=g.Anims||{};bh=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bi=g.CheckedInput=g.CheckedInput||{};bj=g.Updates=g.Updates||{};bk=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bl=e.Concurrency=e.Concurrency||{};bm=g.AppendList=g.AppendList||{};bn=g.String=g.String||{};bo=g.Easing=g.Easing||{};bp=bl.AsyncBody=bl.AsyncBody||{};bq=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};br=bl.CT=bl.CT||{};bs=L.HashSet=L.HashSet||{};bt=e.Char=e.Char||{};bu=g.DynamicAttrNode=g.DynamicAttrNode||{};bv=bl.Scheduler=bl.Scheduler||{};bw=e.CancellationTokenSource=e.CancellationTokenSource||{};bx=bd.DomNodes=bd.DomNodes||{};by=e.OperationCanceledException=e.OperationCanceledException||{};bz=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bA=e.Lazy=e.Lazy||{};bB=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};bC=bB.LazyRecord=bB.LazyRecord||{};bD=e.Queue=e.Queue||{};bE=a.Math;bF=a.IntelliFactory;bG=bF&&bF.Runtime;bH=a.jQuery;bI=a.console;bJ=a.Date;c.Main=function(){d.$cctor();return d.Main;};c.Help=function(bK){return bK==="help"?{$:1,$0:null}:null;};c.Template=function(bK){return bK==="template"?{$:1,$0:null}:null;};c.set_numOfTemplates=function(bK){d.$cctor();d.numOfTemplates=bK;};c.numOfTemplates=function(){d.$cctor();return d.numOfTemplates;};c.Clear=function(bK){return bK==="clear"?{$:1,$0:null}:null;};c.Switch=function(bK){return bK==="switch"?{$:1,$0:null}:null;};c.i2=function(bK,bL){if(bL==="asd")bK.echo("kek");else if(bL==="switch")bK.pop();else bK.echo("...");};c.intOpt=function(){d.$cctor();return d.intOpt;};c.Blank=function(bK){return bK===""?{$:1,$0:null}:null;};c.interpreter=function(){d.$cctor();return d.interpreter;};c.Opt=function(){d.$cctor();return d.Opt;};d.$cctor=function(){var bK,bL,bM,bN;d.$cctor=a.ignore;d.intOpt=(bK={},bK.name="No2",bK.prompt="+ ",bK);d.numOfTemplates=0;d.interpreter=function(bO){var bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4;function b5(b6){a.alert(bS.Get());}return(bP=c.Help(bO),bP!=null&&bP.$==1)?this.echo("Commands: help, clear, template"):(bQ=c.Template(bO),bQ!=null&&bQ.$==1)?(c.set_numOfTemplates(c.numOfTemplates()+1),bR="template"+a.String(c.numOfTemplates()),bS=h.Create$1(""),bT=(bU=(bV=(bW=(bX=k.NewGuid(),a.String(bX)),(bY=new n({$:1,$0:{$:8,$0:"projname",$1:bS},$1:n.Empty}),[[null],bW,new n({$:1,$0:{$:3,$0:"eventprop",$1:p.Concat(m.ofArray([A.Handler("keypress",function(){return function(b6){return b6.stopPropagation();};}),A.Handler("keydown",function(){return function(b6){return b6.stopPropagation();};}),A.Handler("keyup",function(){return function(b6){return b6.stopPropagation();};}),A.Handler("input",function(){return function(b6){return b6.stopPropagation();};})]))},$1:bY})])),[bV[0],bV[1],new n({$:1,$0:(bZ=bV[0],{$:5,$0:"download",$1:true,$2:function(b6){return function(b7){return b5({Vars:bZ[0],Target:b6,Event:b7});};}}),$1:bV[2]})]),(b0=bU[0],(b1=v.CompleteHoles(bU[1],bU[2],[["projname",0]]),(b0[0]=new w.New(b1[1],x.form(b1[0])),b0[0])))).get_Doc(),this.echo("<div id=\""+bR+"\"></div>",{raw:true}),I.LoadLocalTemplates(""),K.RunById(bR,bT)):(b2=c.Clear(bO),b2!=null&&b2.$==1)?this.clear():(b3=c.Switch(bO),b3!=null&&b3.$==1)?this.push(function(b6){return c.i2(this,b6);},c.intOpt()):(b4=c.Blank(bO),b4!=null&&b4.$==1)?this.echo(""):this.echo("Unknown command",{raw:true});};d.Opt=(bL={},bL.name="Terminal1",bL.prompt="> ",bL.greetings="Welcome to the Terminal Test Page! See 'help' for the list of commands.",bL.onInit=function(bO){bO.enable();return bO.echo("Hey Dood, it's workin'!");},bL);d.Main=(bM=c.interpreter(),(bN=c.Opt(),void a.$("#body").terminal(bM,bN)));};f.FailWith=function(bK){throw a.Error(bK);};f.KeyValue=function(bK){return[bK.K,bK.V];};h.Create$1=function(bK){return new y.New(false,z.New({$:2,$0:bK,$1:[]}),bK);};i.Equals=function(bK,bL){var bM,bN,bO,bP;if(bK===bL)return true;else{bM=typeof bK;if(bM=="object"){if(bK===null||bK===void 0||bL===null||bL===void 0)return false;else if("Equals"in bK)return bK.Equals(bL);else if(bK instanceof a.Array&&bL instanceof a.Array)return i.arrayEquals(bK,bL);else if(bK instanceof a.Date&&bL instanceof a.Date)return i.dateEquals(bK,bL);else{bN=[true];for(var bQ in bK)if(function(bR){bN[0]=!bK.hasOwnProperty(bR)||bL.hasOwnProperty(bR)&&i.Equals(bK[bR],bL[bR]);return!bN[0];}(bQ))break;if(bN[0]){for(var bR in bL)if(function(bS){bN[0]=!bL.hasOwnProperty(bS)||bK.hasOwnProperty(bS);return!bN[0];}(bR))break;}return bN[0];}}else return bM=="function"&&("$Func"in bK?bK.$Func===bL.$Func&&bK.$Target===bL.$Target:"$Invokes"in bK&&"$Invokes"in bL&&i.arrayEquals(bK.$Invokes,bL.$Invokes));}};i.Hash=function(bK){var bL;bL=typeof bK;return bL=="function"?0:bL=="boolean"?bK?1:0:bL=="number"?bK:bL=="string"?i.hashString(bK):bL=="object"?bK==null?0:bK instanceof a.Array?i.hashArray(bK):i.hashObject(bK):0;};i.arrayEquals=function(bK,bL){var bM,bN;if(o.length(bK)===o.length(bL)){bM=true;bN=0;while(bM&&bN<o.length(bK)){!i.Equals(o.get(bK,bN),o.get(bL,bN))?bM=false:void 0;bN=bN+1;}return bM;}else return false;};i.dateEquals=function(bK,bL){return bK.getTime()===bL.getTime();};i.hashString=function(bK){var bL,bM,bN;if(bK===null)return 0;else{bL=5381;for(bM=0,bN=bK.length-1;bM<=bN;bM++)bL=i.hashMix(bL,bK[bM].charCodeAt());return bL;}};i.hashArray=function(bK){var bL,bM,bN;bL=-34948909;for(bM=0,bN=o.length(bK)-1;bM<=bN;bM++)bL=i.hashMix(bL,i.Hash(o.get(bK,bM)));return bL;};i.hashObject=function(bK){var bL,bM;if("GetHashCode"in bK)return bK.GetHashCode();else{bL=[0];for(var bN in bK)if(function(bO){bL[0]=i.hashMix(i.hashMix(bL[0],i.hashString(bO)),i.Hash(bK[bO]));return false;}(bN))break;return bL[0];}};i.hashMix=function(bK,bL){return(bK<<5)+bK+bL;};i.Compare=function(bK,bL){var bM,bN,bO,bP,bQ,bR;if(bK===bL)return 0;else{bN=typeof bK;switch(bN=="function"?1:bN=="boolean"?2:bN=="number"?2:bN=="string"?2:bN=="object"?3:0){case 0:return typeof bL=="undefined"?0:-1;break;case 1:return f.FailWith("Cannot compare function values.");break;case 2:return bK<bL?-1:1;break;case 3:if(bK===null)bO=-1;else if(bL===null)bO=1;else if("CompareTo"in bK)bO=bK.CompareTo(bL);else if("CompareTo0"in bK)bO=bK.CompareTo0(bL);else if(bK instanceof a.Array&&bL instanceof a.Array)bO=i.compareArrays(bK,bL);else if(bK instanceof a.Date&&bL instanceof a.Date)bO=i.compareDates(bK,bL);else{bP=[0];for(var bS in bK)if(function(bT){return!bK.hasOwnProperty(bT)?false:!bL.hasOwnProperty(bT)?(bP[0]=1,true):(bP[0]=i.Compare(bK[bT],bL[bT]),bP[0]!==0);}(bS))break;if(bP[0]===0){for(var bT in bL)if(function(bU){return!bL.hasOwnProperty(bU)?false:!bK.hasOwnProperty(bU)&&(bP[0]=-1,true);}(bT))break;}bO=bP[0];}return bO;break;}}};i.compareArrays=function(bK,bL){var bM,bN;if(o.length(bK)<o.length(bL))return -1;else if(o.length(bK)>o.length(bL))return 1;else{bM=0;bN=0;while(bM===0&&bN<o.length(bK)){bM=i.Compare(o.get(bK,bN),o.get(bL,bN));bN=bN+1;}return bM;}};i.compareDates=function(bK,bL){return i.Compare(bK.getTime(),bL.getTime());};k.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bK){var bL,bM;bL=bE.random()*16|0;bM=bK=="x"?bL:bL&3|8;return bM.toString(16);});};l=e.Obj=bG.Class({Equals:function(bK){return this===bK;},GetHashCode:function(){return -1;}},null,l);n=m.T=bG.Class({GetEnumerator:function(){return new R.New(this,null,function(bK){var bL;bL=bK.s;return bL.$==0?false:(bK.c=bL.$0,bK.s=bL.$1,true);},void 0);},GetEnumerator0:function(){return Q.Get(this);}},null,n);n.Empty=new n({$:0});o.get=function(bK,bL){o.checkBounds(bK,bL);return bK[bL];};o.length=function(bK){return bK.dims===2?bK.length*bK.length:bK.length;};o.checkBounds=function(bK,bL){if(bL<0||bL>=bK.length)f.FailWith("Index was outside the bounds of the array.");};o.set=function(bK,bL,bM){o.checkBounds(bK,bL);bK[bL]=bM;};m.ofArray=function(bK){var bL,bM,bN;bL=n.Empty;for(bM=o.length(bK)-1,bN=0;bM>=bN;bM--)bL=new n({$:1,$0:o.get(bK,bM),$1:bL});return bL;};m.head=function(bK){return bK.$==1?bK.$0:m.listEmpty();};m.tail=function(bK){return bK.$==1?bK.$1:m.listEmpty();};m.listEmpty=function(){return f.FailWith("The input list was empty.");};p=g.AttrProxy=bG.Class({},null,p);p.Concat=function(bK){var bL;bL=B.ofSeqNonCopying(bK);return B.TreeReduce(N.EmptyAttr(),p.Append,bL);};p.Append=function(bK,bL){return N.AppendTree(bK,bL);};p.Handler=function(bK,bL){return p.HandlerImpl(bK,bL);};p.Create=function(bK,bL){return N.Static(function(bM){U.SetAttr(bM,bK,bL);});};p.HandlerImpl=function(bK,bL){return N.Static(function(bM){bM.addEventListener(bK,function(bN){return(bL(bM))(bN);},false);});};r.GetFieldValues=function(bK){var bL,bM;bL=[];for(var bN in bK)bL.push(bK[bN]);return bL;};h=g.Var=bG.Class({},l,h);h.New=bG.Ctor(function(){},h);v.CompleteHoles=function(bK,bL,bM){var bO,bP,bQ,bR,bS,bT;function bN(bU,bV){var bW,bX,bY,bZ;return bP.Contains(bU)?null:(bW=bV===0?(bX=h.Create$1(""),[{$:8,$0:bU,$1:bX},bX]):bV===1?(bY=h.Create$1(0),[{$:13,$0:bU,$1:bY},bY]):bV===2?(bZ=h.Create$1(false),[{$:9,$0:bU,$1:bZ},bZ]):f.FailWith("Invalid value type"),(bO.set_Item(bU,bW[1]),{$:1,$0:bW[0]}));}bO=new D.New$5();bP=new E.New$3();bQ=Q.Get(bL);try{while(bQ.MoveNext()){bR=bQ.Current();(bR.$==8?(bS=[bR.$0,F.Box(bR.$1)],true):bR.$==11?(bS=[bR.$0,F.Box(bR.$1)],true):bR.$==10?(bS=[bR.$0,F.Box(bR.$1)],true):bR.$==13?(bS=[bR.$0,F.Box(bR.$1)],true):bR.$==12?(bS=[bR.$0,F.Box(bR.$1)],true):bR.$==9&&(bS=[bR.$0,F.Box(bR.$1)],true))?(bT=bS[0],bP.Add(bT),bO.set_Item(bT,bS[1])):void 0;}}finally{if("Dispose"in bQ)bQ.Dispose();}return[G.append(bL,o.choose(function(bU){return bN(bU[0],bU[1]);},bM)),{$:0,$0:bO}];};w=u.TemplateInstance=bG.Class({get_Doc:function(){return this.doc;}},l,w);w.New=bG.Ctor(function(bK,bL){this.doc=bL;this.allVars=bK.$==0?bK.$0:f.FailWith("Should not happen");},w);x.form=function(bK){return bK?I.GetOrLoadTemplate("template",{$:1,$0:"form"},function(){return bH.parseHTML("<div class=\"form-class\">\n    <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"clientserverfsharp\">Client-Server Application F#\n                                </option><option value=\"spafsharp\">Single Page Application F#\n                                </option><option value=\"extensionfsharp\">Extension F#\n                                </option><option value=\"libraryfsharp\">Library F#\n                                </option><option value=\"offlinefsharp\">HTML Application F#\n                                </option><option value=\"owinfsharp\">Owin F#\n                                </option><option value=\"clientserverfsharp\">Client-Server Application C#\n                                </option><option value=\"spacsharp\">Single Page Application C#\n                                </option><option value=\"librarycsharp\">Library C#\n                                </option><option value=\"offlinecsharp\">HTML Application C#\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n                                </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n                                </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n                                </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n                                </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n                                </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n                                </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n                                </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n                                </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n                                </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n                                </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n                            </li></ul></div></div>\n\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"vs2017\">Visual Studio 2017\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n                            </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n                            </li></ul></div></div>\n\n    <div class=\"social-button-group\">\n                            <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n                                Download\n                            </button>\n                        </div>\n</div>");},bK):I.PrepareTemplate("template",{$:1,$0:"form"},function(){return bH.parseHTML("<div class=\"form-class\">\n    <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"clientserverfsharp\">Client-Server Application F#\n                                </option><option value=\"spafsharp\">Single Page Application F#\n                                </option><option value=\"extensionfsharp\">Extension F#\n                                </option><option value=\"libraryfsharp\">Library F#\n                                </option><option value=\"offlinefsharp\">HTML Application F#\n                                </option><option value=\"owinfsharp\">Owin F#\n                                </option><option value=\"clientserverfsharp\">Client-Server Application C#\n                                </option><option value=\"spacsharp\">Single Page Application C#\n                                </option><option value=\"librarycsharp\">Library C#\n                                </option><option value=\"offlinecsharp\">HTML Application C#\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n                                </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n                                </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n                                </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n                                </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n                                </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n                                </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n                                </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n                                </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n                                </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n                                </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n                            </li></ul></div></div>\n\n    <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n                            <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n                                <option value=\"vs2017\">Visual Studio 2017\n                            </option></select>\n                            <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n                        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n                            </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n                            </li></ul></div></div>\n\n    <div class=\"social-button-group\">\n                            <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n                                Download\n                            </button>\n                        </div>\n</div>");});};y=g.ConcreteVar=bG.Class({Get:function(){return this.current;},get_View:function(){return this.view;},Set:function(bK){if(this.isConst)(function(bL){return bL("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bL){bI.log(bL);}));else{z.Obsolete(this.snap);this.current=bK;this.snap=z.New({$:2,$0:bK,$1:[]});}},UpdateMaybe:function(bK){var bL;bL=bK(this.Get());bL!=null&&bL.$==1?this.Set(bL.$0):void 0;}},h,y);y.New=bG.Ctor(function(bK,bL,bM){var bN;bN=this;h.New.call(this);this.isConst=bK;this.current=bM;this.snap=bL;this.view=function(){return bN.snap;};this.id=M.Int();},y);z.WhenRun=function(bK,bL,bM){var bN;bN=bK.s;bN==null?bM():bN!=null&&bN.$==2?(bN.$1.push(bM),bL(bN.$0)):bN!=null&&bN.$==3?(bN.$0.push(bL),bN.$1.push(bM)):bL(bN.$0);};z.Map=function(bK,bL){var bM,bN;bM=bL.s;return bM!=null&&bM.$==0?z.New({$:0,$0:bK(bM.$0)}):(bN=z.New({$:3,$0:[],$1:[]}),(z.When(bL,function(bO){z.MarkDone(bN,bL,bK(bO));},bN),bN));};z.Map3=function(bK,bL,bM,bN){var bO,bP,bQ,bR;function bS(bT){var bU,bV,bW,bX;if(!(bU=bR.s,bU!=null&&bU.$==0||bU!=null&&bU.$==2)){bV=z.ValueAndForever(bL);bW=z.ValueAndForever(bM);bX=z.ValueAndForever(bN);bV!=null&&bV.$==1?bW!=null&&bW.$==1?bX!=null&&bX.$==1?bV.$0[1]&&bW.$0[1]&&bX.$0[1]?z.MarkForever(bR,bK(bV.$0[0],bW.$0[0],bX.$0[0])):z.MarkReady(bR,bK(bV.$0[0],bW.$0[0],bX.$0[0])):void 0:void 0:void 0;}}bO=bL.s;bP=bM.s;bQ=bN.s;return bO!=null&&bO.$==0?bP!=null&&bP.$==0?bQ!=null&&bQ.$==0?z.New({$:0,$0:bK(bO.$0,bP.$0,bQ.$0)}):z.Map3Opt1(bK,bO.$0,bP.$0,bN):bQ!=null&&bQ.$==0?z.Map3Opt2(bK,bO.$0,bQ.$0,bM):z.Map3Opt3(bK,bO.$0,bM,bN):bP!=null&&bP.$==0?bQ!=null&&bQ.$==0?z.Map3Opt4(bK,bP.$0,bQ.$0,bL):z.Map3Opt5(bK,bP.$0,bL,bN):bQ!=null&&bQ.$==0?z.Map3Opt6(bK,bQ.$0,bL,bM):(bR=z.New({$:3,$0:[],$1:[]}),(z.When(bL,bS,bR),z.When(bM,bS,bR),z.When(bN,bS,bR),bR));};z.Sequence=function(bK){var bL,bM,bN;function bO(bP){var bQ;if(bN[0]===0){bQ=o.map(function(bR){var bS;bS=bR.s;return bS!=null&&bS.$==0?bS.$0:bS!=null&&bS.$==2?bS.$0:f.FailWith("value not found by View.Sequence");},bL);o.forall(function(bR){var bS;bS=bR.s;return bS!=null&&bS.$==0;},bL)?z.MarkForever(bM,bQ):z.MarkReady(bM,bQ);}else bN[0]--;}bL=o.ofSeq(bK);return bL.length==0?z.New({$:0,$0:[]}):(bM=z.New({$:3,$0:[],$1:[]}),(bN=[o.length(bL)-1],(o.iter(function(bP){z.When(bP,bO,bM);},bL),bM)));};z.Map2=function(bK,bL,bM){var bN,bO,bP;function bQ(bR){var bS,bT,bU;if(!(bS=bP.s,bS!=null&&bS.$==0||bS!=null&&bS.$==2)){bT=z.ValueAndForever(bL);bU=z.ValueAndForever(bM);bT!=null&&bT.$==1?bU!=null&&bU.$==1?bT.$0[1]&&bU.$0[1]?z.MarkForever(bP,bK(bT.$0[0],bU.$0[0])):z.MarkReady(bP,bK(bT.$0[0],bU.$0[0])):void 0:void 0;}}bN=bL.s;bO=bM.s;return bN!=null&&bN.$==0?bO!=null&&bO.$==0?z.New({$:0,$0:bK(bN.$0,bO.$0)}):z.Map2Opt1(bK,bN.$0,bM):bO!=null&&bO.$==0?z.Map2Opt2(bK,bO.$0,bL):(bP=z.New({$:3,$0:[],$1:[]}),(z.When(bL,bQ,bP),z.When(bM,bQ,bP),bP));};z.Map2Unit=function(bK,bL){var bM,bN,bO;function bP(){var bQ,bR,bS;if(!(bQ=bO.s,bQ!=null&&bQ.$==0||bQ!=null&&bQ.$==2)){bR=z.ValueAndForever(bK);bS=z.ValueAndForever(bL);bR!=null&&bR.$==1?bS!=null&&bS.$==1?bR.$0[1]&&bS.$0[1]?z.MarkForever(bO,null):z.MarkReady(bO,null):void 0:void 0;}}bM=bK.s;bN=bL.s;return bM!=null&&bM.$==0?bN!=null&&bN.$==0?z.New({$:0,$0:null}):bL:bN!=null&&bN.$==0?bK:(bO=z.New({$:3,$0:[],$1:[]}),(z.When(bK,bP,bO),z.When(bL,bP,bO),bO));};z.Copy=function(bK){var bL,bM,bN;bL=bK.s;return bL==null?bK:bL!=null&&bL.$==2?(bM=z.New({$:2,$0:bL.$0,$1:[]}),(z.WhenObsolete(bK,bM),bM)):bL!=null&&bL.$==3?(bN=z.New({$:3,$0:[],$1:[]}),(z.When(bK,function(bO){z.MarkDone(bN,bK,bO);},bN),bN)):bK;};z.WhenObsoleteRun=function(bK,bL){var bM;bM=bK.s;bM==null?bL():bM!=null&&bM.$==2?bM.$1.push(bL):bM!=null&&bM.$==3?bM.$1.push(bL):void 0;};z.When=function(bK,bL,bM){var bN;bN=bK.s;bN==null?z.Obsolete(bM):bN!=null&&bN.$==2?(z.EnqueueSafe(bN.$1,bM),bL(bN.$0)):bN!=null&&bN.$==3?(bN.$0.push(bL),z.EnqueueSafe(bN.$1,bM)):bL(bN.$0);};z.MarkDone=function(bK,bL,bM){var bN;if(bN=bL.s,bN!=null&&bN.$==0)z.MarkForever(bK,bM);else z.MarkReady(bK,bM);};z.Map3Opt1=function(bK,bL,bM,bN){return z.Map(function(bO){return bK(bL,bM,bO);},bN);};z.Map3Opt2=function(bK,bL,bM,bN){return z.Map(function(bO){return bK(bL,bO,bM);},bN);};z.Map3Opt3=function(bK,bL,bM,bN){return z.Map2(function(bO,bP){return bK(bL,bO,bP);},bM,bN);};z.Map3Opt4=function(bK,bL,bM,bN){return z.Map(function(bO){return bK(bO,bL,bM);},bN);};z.Map3Opt5=function(bK,bL,bM,bN){return z.Map2(function(bO,bP){return bK(bO,bL,bP);},bM,bN);};z.Map3Opt6=function(bK,bL,bM,bN){return z.Map2(function(bO,bP){return bK(bO,bP,bL);},bM,bN);};z.ValueAndForever=function(bK){var bL;bL=bK.s;return bL!=null&&bL.$==0?{$:1,$0:[bL.$0,true]}:bL!=null&&bL.$==2?{$:1,$0:[bL.$0,false]}:null;};z.MarkForever=function(bK,bL){var bM,bN,bO,bP;bM=bK.s;if(bM!=null&&bM.$==3){bK.s={$:0,$0:bL};bN=bM.$0;for(bO=0,bP=o.length(bN)-1;bO<=bP;bO++)(o.get(bN,bO))(bL);}else void 0;};z.MarkReady=function(bK,bL){var bM,bN,bO,bP;bM=bK.s;if(bM!=null&&bM.$==3){bK.s={$:2,$0:bL,$1:bM.$1};bN=bM.$0;for(bO=0,bP=o.length(bN)-1;bO<=bP;bO++)(o.get(bN,bO))(bL);}else void 0;};z.Map2Opt1=function(bK,bL,bM){return z.Map(function(bN){return bK(bL,bN);},bM);};z.Map2Opt2=function(bK,bL,bM){return z.Map(function(bN){return bK(bN,bL);},bM);};z.WhenObsolete=function(bK,bL){var bM;bM=bK.s;bM==null?z.Obsolete(bL):bM!=null&&bM.$==2?z.EnqueueSafe(bM.$1,bL):bM!=null&&bM.$==3?z.EnqueueSafe(bM.$1,bL):void 0;};z.EnqueueSafe=function(bK,bL){var bM,bN,bO,bP;bK.push(bL);if(bK.length%20===0){bM=bK.slice(0);bD.Clear(bK);for(bN=0,bO=o.length(bM)-1;bN<=bO;bN++){bP=o.get(bM,bN);typeof bP=="object"?function(bQ){if(bQ.s)bK.push(bQ);}(bP):function(bQ){bK.push(bQ);}(bP);}}else void 0;};A.Handler=function(bK,bL){return N.Static(function(bM){bM.addEventListener(bK,function(bN){return(bL(bM))(bN);},false);});};A.OnAfterRender=function(bK){return new p({$:4,$0:bK});};A.Value=function(bK){function bL(bM){return{$:1,$0:bM};}return A.CustomValue(bK,a.id,function(bM){return bL(a.id(bM));});};A.Checked=function(bK){function bL(bM,bN){return!i.Equals(bK.Get(),bM.checked)?bK.Set(bM.checked):null;}return p.Concat([A.DynamicProp("checked",bK.get_View()),A.Handler("change",function(bM){return function(bN){return bL(bM,bN);};})]);};A.IntValue=function(bK){return A.CustomVar(bK,function(bL,bM){var bN;bN=bM.get_Input();return bL.value!==bN?void(bL.value=bN):null;},function(bL){var bM,bN,bO;bM=bL.value;return{$:1,$0:bn.isBlank(bM)?(bL.checkValidity?bL.checkValidity():true)?new bi({$:2,$0:bM}):new bi({$:1,$0:bM}):(bN=(bO=0,[W.TryParseInt32(bM,{get:function(){return bO;},set:function(bP){bO=bP;}}),bO]),bN[0]?new bi({$:0,$0:bN[1],$1:bM}):new bi({$:1,$0:bM}))};});};A.IntValueUnchecked=function(bK){return A.CustomValue(bK,a.String,function(bL){var bM;return bn.isBlank(bL)?{$:1,$0:0}:(bM=+bL,bM!==bM>>0?null:{$:1,$0:bM});});};A.FloatValue=function(bK){return A.CustomVar(bK,function(bL,bM){var bN;bN=bM.get_Input();return bL.value!==bN?void(bL.value=bN):null;},function(bL){var bM,bN;bM=bL.value;return{$:1,$0:bn.isBlank(bM)?(bL.checkValidity?bL.checkValidity():true)?new bi({$:2,$0:bM}):new bi({$:1,$0:bM}):(bN=+bM,a.isNaN(bN)?new bi({$:1,$0:bM}):new bi({$:0,$0:bN,$1:bM}))};});};A.FloatValueUnchecked=function(bK){return A.CustomValue(bK,a.String,function(bL){var bM;return bn.isBlank(bL)?{$:1,$0:0}:(bM=+bL,a.isNaN(bM)?null:{$:1,$0:bM});});};A.Dynamic=function(bK,bL){return N.Dynamic(bL,function(bM){return function(bN){return U.SetAttr(bM,bK,bN);};});};A.CustomValue=function(bK,bL,bM){return A.CustomVar(bK,function(bN,bO){bN.value=bL(bO);},function(bN){return bM(bN.value);});};A.DynamicProp=function(bK,bL){return N.Dynamic(bL,function(bM){return function(bN){bM[bK]=bN;};});};A.CustomVar=function(bK,bL,bM){function bN(bP,bQ){return bK.UpdateMaybe(function(bR){var bS,bT;bS=bM(bP);return bS!=null&&bS.$==1&&(!i.Equals(bS.$0,bR)&&(bT=[bS,bS.$0],true))?bT[0]:null;});}function bO(bP,bQ){var bR,bS;bR=bM(bP);return bR!=null&&bR.$==1&&(i.Equals(bR.$0,bQ)&&(bS=bR.$0,true))?null:bL(bP,bQ);}return p.Concat([A.Handler("change",function(bP){return function(bQ){return bN(bP,bQ);};}),A.Handler("input",function(bP){return function(bQ){return bN(bP,bQ);};}),A.Handler("keypress",function(bP){return function(bQ){return bN(bP,bQ);};}),A.DynamicCustom(function(bP){return function(bQ){return bO(bP,bQ);};},bK.get_View())]);};A.DynamicCustom=function(bK,bL){return N.Dynamic(bL,bK);};B.ofSeqNonCopying=function(bK){var bL,bM;if(bK instanceof a.Array)return bK;else if(bK instanceof n)return o.ofList(bK);else if(bK===null)return[];else{bL=[];bM=Q.Get(bK);try{while(bM.MoveNext())bL.push(bM.Current());return bL;}finally{if("Dispose"in bM)bM.Dispose();}}};B.TreeReduce=function(bK,bL,bM){var bN;function bO(bP,bQ){var bR,bS;return bQ<=0?bK:bQ===1&&(bP>=0&&bP<bN)?o.get(bM,bP):(bS=bQ/2>>0,bL(bO(bP,bS),bO(bP+bS,bQ-bS)));}bN=o.length(bM);return bO(0,bN);};B.MapTreeReduce=function(bK,bL,bM,bN){var bO;function bP(bQ,bR){var bS,bT;return bR<=0?bL:bR===1&&(bQ>=0&&bQ<bO)?bK(o.get(bN,bQ)):(bT=bR/2>>0,bM(bP(bQ,bT),bP(bQ+bT,bR-bT)));}bO=o.length(bN);return bP(0,bO);};D=C.Dictionary=bG.Class({set_Item:function(bK,bL){this.set(bK,bL);},set:function(bK,bL){var bM,bN,bO,bP;bM=this;bN=this.hash(bK);bO=this.data[bN];bO?(bP=o.tryFindIndex(function(bQ){return bM.equals.apply(null,[(f.KeyValue(bQ))[0],bK]);},bO),bP==null?(this.count=this.count+1,bO.push({K:bK,V:bL})):bO[bP.$0]={K:bK,V:bL}):(this.count=this.count+1,this.data[bN]=new a.Array({K:bK,V:bL}));},ContainsKey:function(bK){var bL,bM;bL=this;bM=this.data[this.hash(bK)];return bM&&o.exists(function(bN){return bL.equals.apply(null,[(f.KeyValue(bN))[0],bK]);},bM);},TryGetValue:function(bK,bL){var bM,bN,bO;bM=this;bN=this.data[this.hash(bK)];return bN&&(bO=o.tryPick(function(bP){var bQ;bQ=f.KeyValue(bP);return bM.equals.apply(null,[bQ[0],bK])?{$:1,$0:bQ[1]}:null;},bN),bO!=null&&bO.$==1&&(bL.set(bO.$0),true));},Remove:function(bK){return this.remove(bK);},get_Keys:function(){return new _6.New(this);},get_Item:function(bK){return this.get(bK);},remove:function(bK){var bL,bM,bN,bO;bL=this;bM=this.hash(bK);bN=this.data[bM];return bN&&(bO=o.filter(function(bP){return!bL.equals.apply(null,[(f.KeyValue(bP))[0],bK]);},bN),o.length(bO)<bN.length&&(this.count=this.count-1,this.data[bM]=bO,true));},get:function(bK){var bL,bM;bL=this;bM=this.data[this.hash(bK)];return bM?o.pick(function(bN){var bO;bO=f.KeyValue(bN);return bL.equals.apply(null,[bO[0],bK])?{$:1,$0:bO[1]}:null;},bM):P.notPresent();},GetEnumerator:function(){return Q.Get0(this);},GetEnumerator0:function(){return Q.Get0(o.concat(r.GetFieldValues(this.data)));}},l,D);D.New$5=bG.Ctor(function(){D.New$6.call(this,[],i.Equals,i.Hash);},D);D.New$6=bG.Ctor(function(bK,bL,bM){var bN,bO;this.equals=bL;this.hash=bM;this.count=0;this.data=[];bN=Q.Get(bK);try{while(bN.MoveNext()){bO=bN.Current();this.set(bO.K,bO.V);}}finally{if("Dispose"in bN)bN.Dispose();}},D);E=C.HashSet=bG.Class({Add:function(bK){return this.add(bK);},Contains:function(bK){var bL;bL=this.data[this.hash(bK)];return bL==null?false:this.arrContains(bK,bL);},add:function(bK){var bL,bM;bL=this.hash(bK);bM=this.data[bL];return bM==null?(this.data[bL]=[bK],this.count=this.count+1,true):this.arrContains(bK,bM)?false:(bM.push(bK),this.count=this.count+1,true);},arrContains:function(bK,bL){var bM,bN,bO,bP;bM=true;bN=0;bP=bL.length;while(bM&&bN<bP)if(this.equals.apply(null,[bL[bN],bK]))bM=false;else bN=bN+1;return!bM;},IntersectWith:function(bK){var bL,bM,bN,bO,bP;bL=new E.New$4(bK,this.equals,this.hash);bM=_.concat(this.data);for(bN=0,bO=bM.length-1;bN<=bO;bN++){bP=bM[bN];!bL.Contains(bP)?this.Remove(bP):void 0;}},get_Count:function(){return this.count;},CopyTo:function(bK){var bL,bM,bN,bO;bL=0;bM=_.concat(this.data);for(bN=0,bO=bM.length-1;bN<=bO;bN++)o.set(bK,bN,bM[bN]);},ExceptWith:function(bK){var bL;bL=Q.Get(bK);try{while(bL.MoveNext())this.Remove(bL.Current());}finally{if("Dispose"in bL)bL.Dispose();}},Remove:function(bK){var bL;bL=this.data[this.hash(bK)];return bL==null?false:this.arrRemove(bK,bL)&&(this.count=this.count-1,true);},arrRemove:function(bK,bL){var bM,bN,bO,bP;bM=true;bN=0;bP=bL.length;while(bM&&bN<bP)if(this.equals.apply(null,[bL[bN],bK])){bL.splice.apply(bL,[bN,1]);bM=false;}else bN=bN+1;return!bM;},GetEnumerator:function(){return Q.Get(_.concat(this.data));},GetEnumerator0:function(){return Q.Get(_.concat(this.data));}},l,E);E.New$3=bG.Ctor(function(){E.New$4.call(this,[],i.Equals,i.Hash);},E);E.New$4=bG.Ctor(function(bK,bL,bM){var bN;this.equals=bL;this.hash=bM;this.data=[];this.count=0;bN=Q.Get(bK);try{while(bN.MoveNext())this.add(bN.Current());}finally{if("Dispose"in bN)bN.Dispose();}},E);E.New$2=bG.Ctor(function(bK){E.New$4.call(this,bK,i.Equals,i.Hash);},E);F.Box=a.id;o.choose=function(bK,bL){var bM,bN,bO,bP;bM=[];for(bN=0,bO=bL.length-1;bN<=bO;bN++){bP=bK(bL[bN]);bP==null?void 0:bM.push(bP.$0);}return bM;};o.ofList=function(bK){var bL,bM;bM=[];bL=bK;while(!(bL.$==0)){bM.push(m.head(bL));bL=m.tail(bL);}return bM;};o.tryFindIndex=function(bK,bL){var bM,bN;bM=null;bN=0;while(bN<bL.length&&bM==null){bK(bL[bN])?bM={$:1,$0:bN}:void 0;bN=bN+1;}return bM;};o.exists=function(bK,bL){var bM,bN,bO,bP;bM=false;bN=0;bP=o.length(bL);while(!bM&&bN<bP)if(bK(bL[bN]))bM=true;else bN=bN+1;return bM;};o.tryPick=function(bK,bL){var bM,bN,bO;bM=null;bN=0;while(bN<bL.length&&bM==null){bO=bK(bL[bN]);bO!=null&&bO.$==1?bM=bO:void 0;bN=bN+1;}return bM;};o.concat=function(bK){return a.Array.prototype.concat.apply([],o.ofSeq(bK));};o.filter=function(bK,bL){var bM,bN,bO;bM=[];for(bN=0,bO=bL.length-1;bN<=bO;bN++)if(bK(bL[bN]))bM.push(bL[bN]);return bM;};o.map=function(bK,bL){var bM,bN,bO;bM=new a.Array(bL.length);for(bN=0,bO=bL.length-1;bN<=bO;bN++)bM[bN]=bK(bL[bN]);return bM;};o.iter=function(bK,bL){var bM,bN;for(bM=0,bN=bL.length-1;bM<=bN;bM++)bK(bL[bM]);};o.foldBack=function(bK,bL,bM){var bN,bO,bP,bQ,bR;bN=bM;bP=bL.length;for(bQ=1,bR=bP;bQ<=bR;bQ++)bN=bK(bL[bP-bQ],bN);return bN;};o.ofSeq=function(bK){var bL,bM;if(bK instanceof a.Array)return bK.slice();else if(bK instanceof n)return o.ofList(bK);else{bL=[];bM=Q.Get(bK);try{while(bM.MoveNext())bL.push(bM.Current());return bL;}finally{if("Dispose"in bM)bM.Dispose();}}};o.pick=function(bK,bL){var bM;bM=o.tryPick(bK,bL);return bM==null?f.FailWith("KeyNotFoundException"):bM.$0;};o.forall=function(bK,bL){var bM,bN,bO,bP;bM=true;bN=0;bP=o.length(bL);while(bM&&bN<bP)if(bK(bL[bN]))bN=bN+1;else bM=false;return bM;};o.create=function(bK,bL){var bM,bN,bO;bM=new a.Array(bK);for(bN=0,bO=bK-1;bN<=bO;bN++)bM[bN]=bL;return bM;};o.init=function(bK,bL){var bM,bN,bO;bK<0?f.FailWith("Negative size given."):null;bM=new a.Array(bK);for(bN=0,bO=bK-1;bN<=bO;bN++)bM[bN]=bL(bN);return bM;};G.append=function(bK,bL){return{GetEnumerator:function(){var bM,bN;bM=Q.Get(bK);bN=[true];return new R.New(bM,null,function(bO){var bP;return bO.s.MoveNext()?(bO.c=bO.s.Current(),true):(bP=bO.s,!i.Equals(bP,null)?bP.Dispose():void 0,bO.s=null,bN[0]&&(bN[0]=false,bO.s=Q.Get(bL),bO.s.MoveNext()?(bO.c=bO.s.Current(),true):(bO.s.Dispose(),bO.s=null,false)));},function(bO){var bP;bP=bO.s;!i.Equals(bP,null)?bP.Dispose():void 0;});}};};G.head=function(bK){var bL;bL=Q.Get(bK);try{return bL.MoveNext()?bL.Current():G.insufficient();}finally{if("Dispose"in bL)bL.Dispose();}};G.fold=function(bK,bL,bM){var bN,bO;bN=bL;bO=Q.Get(bM);try{while(bO.MoveNext())bN=bK(bN,bO.Current());return bN;}finally{if("Dispose"in bO)bO.Dispose();}};G.iter=function(bK,bL){var bM;bM=Q.Get(bL);try{while(bM.MoveNext())bK(bM.Current());}finally{if("Dispose"in bM)bM.Dispose();}};G.map=function(bK,bL){return{GetEnumerator:function(){var bM;bM=Q.Get(bL);return new R.New(null,null,function(bN){return bM.MoveNext()&&(bN.c=bK(bM.Current()),true);},function(){bM.Dispose();});}};};G.max=function(bK){var bL,bM,bN;bL=Q.Get(bK);try{if(!bL.MoveNext())G.seqEmpty();bM=bL.Current();while(bL.MoveNext()){bN=bL.Current();i.Compare(bN,bM)===1?bM=bN:void 0;}return bM;}finally{if("Dispose"in bL)bL.Dispose();}};G.forall=function(bK,bL){return!G.exists(function(bM){return!bK(bM);},bL);};G.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};G.exists=function(bK,bL){var bM,bN;bM=Q.Get(bL);try{bN=false;while(!bN&&bM.MoveNext())bN=bK(bM.Current());return bN;}finally{if("Dispose"in bM)bM.Dispose();}};I.LoadLocalTemplates=function(bK){!I.LocalTemplatesLoaded()?(I.set_LocalTemplatesLoaded(true),I.LoadNestedTemplates(a.document.body,"")):void 0;I.LoadedTemplates().set_Item(bK,I.LoadedTemplateFile(""));};I.GetOrLoadTemplate=function(bK,bL,bM,bN){I.LoadLocalTemplates("");I.PrepareTemplate(bK,bL,bM);return I.NamedTemplate(bK,bL,bN);};I.PrepareTemplate=function(bK,bL,bM){var bN,bO,bP,bQ,bR;if(!I.LoadedTemplateFile(bK).ContainsKey(bL==null?"":bL.$0)){bN=bM();for(bO=0,bP=bN.length-1;bO<=bP;bO++){bQ=o.get(bN,bO);bR=bQ.parentNode;i.Equals(bR,null)?void 0:bR.removeChild(bQ);}I.PrepareTemplateStrict(bK,bL,bN,null,null);}};I.LocalTemplatesLoaded=function(){Y.$cctor();return Y.LocalTemplatesLoaded;};I.set_LocalTemplatesLoaded=function(bK){Y.$cctor();Y.LocalTemplatesLoaded=bK;};I.LoadNestedTemplates=function(bK,bL){var bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0;function bM(b1){var b2,b3;if(!bN.ContainsKey(b1)){b2=(b3=null,[bO.TryGetValue(b1,{get:function(){return b3;},set:function(b4){b3=b4;}}),b3]);b2[0]?(b0.Add(b1),bO.Remove(b1),I.PrepareTemplateStrict(bL,{$:1,$0:b1},b2[1][0],{$:1,$0:b2[1][1]},{$:1,$0:bM})):bI.warn(b0.Contains(b1)?"Encountered loop when instantiating "+b1:"Local template does not exist: "+b1);}}bN=I.LoadedTemplateFile(bL);bO=new D.New$5();bP=bK.querySelectorAll("[ws-template]");for(bQ=0,bR=bP.length-1;bQ<=bR;bQ++){bS=bP[bQ];bT=bS.getAttribute("ws-template").toLowerCase();bS.removeAttribute("ws-template");bO.set_Item(bT,[[bS],I.FakeRootSingle(bS)]);}bU=bK.querySelectorAll("[ws-children-template]");for(bV=0,bW=bU.length-1;bV<=bW;bV++){bX=bU[bV];bY=bX.getAttribute("ws-children-template").toLowerCase();bX.removeAttribute("ws-children-template");bO.set_Item(bY,(bZ=U.ChildrenArray(bX),[bZ,I.FakeRoot(bZ)]));}b0=new E.New$3();while(bO.count>0)bM(G.head(bO.get_Keys()));};I.LoadedTemplates=function(){Y.$cctor();return Y.LoadedTemplates;};I.LoadedTemplateFile=function(bK){var bL,bM,bN;bL=(bM=null,[I.LoadedTemplates().TryGetValue(bK,{get:function(){return bM;},set:function(bO){bM=bO;}}),bM]);return bL[0]?bL[1]:(bN=new D.New$5(),(I.LoadedTemplates().set_Item(bK,bN),bN));};I.NamedTemplate=function(bK,bL,bM){var bN,bO;bN=(bO=null,[I.LoadedTemplateFile(bK).TryGetValue(bL==null?"":bL.$0,{get:function(){return bO;},set:function(bP){bO=bP;}}),bO]);return bN[0]?I.ChildrenTemplate(bN[1].cloneNode(true),bM):(bI.warn("Local template doesn't exist",bL),K.get_Empty());};I.PrepareTemplateStrict=function(bK,bL,bM,bN,bO){var bP,bQ;function bR(bW,bX){var bY,bZ,b0,b1,b2,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm;function b3(cn){}while(true)switch(bW){case 0:if(bX!==null){bY=bX.nextSibling;if(i.Equals(bX.nodeType,T.TEXT_NODE))_4.convertTextNode(bX);else if(i.Equals(bX.nodeType,T.ELEMENT_NODE))bT(bX);bX=bY;}else return null;break;case 1:b4=_5.string(bX.nodeName,{$:1,$0:3},null).toLowerCase();b5=(bZ=b4.indexOf("."),bZ===-1?[bK,b4]:[_5.string(b4,null,{$:1,$0:bZ-1}),_5.string(b4,{$:1,$0:bZ+1},null)]);b6=b5[1];b7=b5[0];if(b7!==""&&!I.LoadedTemplates().ContainsKey(b7))return _4.failNotLoaded(b6);else{if(b7===""&&bO!=null)bO.$0(b6);b8=I.LoadedTemplates().get_Item(b7);if(!b8.ContainsKey(b6))return _4.failNotLoaded(b6);else{b9=b8.get_Item(b6);b_=b9.cloneNode(true);b$=new E.New$3();ca=new D.New$5();cb=bX.attributes;for(cc=0,cd=cb.length-1;cc<=cd;cc++){ce=cb.item(cc).name.toLowerCase();ca.set_Item(ce,(cf=cb.item(cc).nodeValue,cf===""?ce:cf.toLowerCase()));!b$.Add(ce)?bI.warn("Hole mapped twice",ce):void 0;}for(cg=0,ch=bX.childNodes.length-1;cg<=ch;cg++){ci=bX.childNodes[cg];i.Equals(ci.nodeType,T.ELEMENT_NODE)?!b$.Add(ci.nodeName.toLowerCase())?bI.warn("Hole filled twice",b6):void 0:void 0;}cj=bX.childNodes.length===1&&i.Equals(bX.firstChild.nodeType,T.TEXT_NODE);if(cj){b1=_4.fillTextHole(b_,bX.firstChild.textContent,b6);((function(cn){return function(co){if(co!=null)cn(co.$0);};}((b2=function(cn){return function(co){return cn.Add(co);};}(b$),function(cn){return b3(b2(cn));})))(b1));}_4.removeHolesExcept(b_,b$);if(!cj){for(ck=0,cl=bX.childNodes.length-1;ck<=cl;ck++){cm=bX.childNodes[ck];i.Equals(cm.nodeType,T.ELEMENT_NODE)?cm.hasAttributes()?_4.fillInstanceAttrs(b_,cm):bS(b_,cm):void 0;}}_4.mapHoles(b_,ca);_4.fill(b_,bX.parentNode,bX);bX.parentNode.removeChild(bX);return;}}break;}}function bS(bW,bX){var bY,b0,b1;function bZ(b2,b3){var b4,b5,b6;if(b0==="title"&&bX.hasChildNodes()){b4=bH.parseHTML(bX.textContent);bX.removeChild(bX.firstChild);for(b5=0,b6=b4.length-1;b5<=b6;b5++)bX.appendChild(o.get(b4,b5));}else null;bT(bX);return _4.fill(bX,b2,b3);}b0=bX.nodeName.toLowerCase();U.IterSelector(bW,"[ws-attr-holes]",function(b2){var b3,b4,b5,b6,b7;b3=bc.SplitChars(b2.getAttribute("ws-attr-holes"),[" "],1);for(b4=0,b5=b3.length-1;b4<=b5;b4++){b6=o.get(b3,b4);b2.setAttribute(b6,(b7=new a.RegExp("\\${"+b0+"}","ig"),b2.getAttribute(b6).replace(b7,bX.textContent)));}});b1=bW.querySelector("[ws-hole="+b0+"]");if(i.Equals(b1,null)){bY=bW.querySelector("[ws-replace="+b0+"]");return i.Equals(bY,null)?null:(bZ(bY.parentNode,bY),void bY.parentNode.removeChild(bY));}else{while(b1.hasChildNodes())b1.removeChild(b1.lastChild);b1.removeAttribute("ws-hole");return bZ(b1,null);}}function bT(bW){if(bc.StartsWith(bW.nodeName.toLowerCase(),"ws-"))bV(bW);else{_4.convertAttrs(bW);bU(bW.firstChild);}}function bU(bW){return bR(0,bW);}function bV(bW){return bR(1,bW);}bP=bN==null?I.FakeRoot(bM):bN.$0;bQ=(bL==null?"":bL.$0).toLowerCase();I.LoadedTemplateFile(bK).set_Item(bQ,bP);o.length(bM)>0?(function(bW){var bX,bY,bZ,b0;while(true){bX=bW.querySelector("[ws-template]");if(i.Equals(bX,null)){bY=bW.querySelector("[ws-children-template]");if(i.Equals(bY,null))return null;else{bZ=bY.getAttribute("ws-children-template");bY.removeAttribute("ws-children-template");I.PrepareTemplateStrict(bK,{$:1,$0:bZ},U.ChildrenArray(bY),null,null);bW=bW;}}else{b0=bX.getAttribute("ws-template");(I.PrepareSingleTemplate(bK,{$:1,$0:b0},bX))(null);bW=bW;}}}(bP),bU(o.get(bM,0))):void 0;};I.FakeRootSingle=function(bK){var bL,bM,bN;bK.removeAttribute("ws-template");bL=bK.getAttribute("ws-replace");bL===null?void 0:(bK.removeAttribute("ws-replace"),bM=bK.parentNode,i.Equals(bM,null)?void 0:(bN=a.document.createElement(bK.tagName),bN.setAttribute("ws-replace",bL),bM.replaceChild(bN,bK)));return I.FakeRoot([bK]);};I.FakeRoot=function(bK){var bL,bM,bN;bL=a.document.createElement("div");for(bM=0,bN=bK.length-1;bM<=bN;bM++)bL.appendChild(o.get(bK,bM));return bL;};I.ChildrenTemplate=function(bK,bL){var bM,bN,bO,bP,bQ;bM=I.InlineTemplate(bK,bL);bN=bM[1];bO=bM[0];bP=bO.Els;return!i.Equals(bP,null)&&bP.length===1&&(o.get(bP,0)instanceof T&&(i.Equals(o.get(bP,0).nodeType,T.ELEMENT_NODE)&&(bQ=o.get(bP,0),true)))?bb.TreeNode(bO,bN):K.Mk({$:6,$0:bO},bN);};I.PrepareSingleTemplate=function(bK,bL,bM){var bN,bO,bP;bN=I.FakeRootSingle(bM);bO=[bM];bP={$:1,$0:bN};return function(bQ){I.PrepareTemplateStrict(bK,bL,bO,bP,bQ);};};I.InlineTemplate=function(bK,bL){var bM,bN,bQ,bR,bS,bT,bU,bV,bW;function bO(bX,bY){var bZ,b0,b1;bZ=N.Insert(bX,bY);bR.push(N.Updates(bZ));bS.push([bX,bZ]);b0=bG.GetOptional(bZ.OnAfterRender);return b0==null?null:(b1=b0.$0,void bT.push(function(){b1(bX);}));}function bP(bX){var bY,bZ;bY=(bZ=null,[bU.TryGetValue(bX,{get:function(){return bZ;},set:function(b0){bZ=b0;}}),bZ]);return bY[0]?bY[1].$==0?{$:1,$0:bY[1].$1}:bY[1].$==1?{$:1,$0:K.TextNode(bY[1].$1)}:bY[1].$==2?{$:1,$0:K.TextView(bY[1].$1)}:bY[1].$==8?{$:1,$0:K.TextView(bY[1].$1.get_View())}:bY[1].$==9?{$:1,$0:K.TextView(V.Map(a.String,bY[1].$1.get_View()))}:bY[1].$==10?{$:1,$0:K.TextView(V.Map(function(b0){return b0.get_Input();},bY[1].$1.get_View()))}:bY[1].$==11?{$:1,$0:K.TextView(V.Map(a.String,bY[1].$1.get_View()))}:bY[1].$==12?{$:1,$0:K.TextView(V.Map(function(b0){return b0.get_Input();},bY[1].$1.get_View()))}:bY[1].$==13?{$:1,$0:K.TextView(V.Map(a.String,bY[1].$1.get_View()))}:(bI.warn("Content hole filled with attribute data",bX),null):null;}bQ=[];bR=[];bS=[];bT=[];bU=new D.New$5();bV=Q.Get(bL);try{while(bV.MoveNext()){bW=bV.Current();bU.set_Item(bW.$0,bW);}}finally{if("Dispose"in bV)bV.Dispose();}bM=U.ChildrenArray(bK);U.IterSelector(bK,"[ws-hole]",function(bX){var bY,bZ,b0;b0=bX.getAttribute("ws-hole");bX.removeAttribute("ws-hole");while(bX.hasChildNodes())bX.removeChild(bX.lastChild);bY=bP(b0);bY!=null&&bY.$==1?(bZ=bY.$0,_0.LinkElement(bX,bZ.docNode),bQ.push(_2.New(N.Empty(bX),bZ.docNode,null,bX,M.Int(),null)),bR.push(bZ.updates)):void 0;});U.IterSelector(bK,"[ws-replace]",function(bX){var bY,bZ,b0,b1,b2,b3;bY=bP(bX.getAttribute("ws-replace"));bY!=null&&bY.$==1?(bZ=bY.$0,b0=bX.parentNode,b1=a.document.createTextNode(""),b0.replaceChild(b1,bX),b2=_0.InsertBeforeDelim(b1,bZ.docNode),b3=o.tryFindIndex(function(b4){return bX===b4;},bM),b3==null?void 0:o.set(bM,b3.$0,bZ.docNode),bQ.push(_2.New(N.Empty(b0),bZ.docNode,{$:1,$0:[b2,b1]},b0,M.Int(),null)),bR.push(bZ.updates)):void 0;});U.IterSelector(bK,"[ws-attr]",function(bX){var bY,bZ,b0;bY=bX.getAttribute("ws-attr");bX.removeAttribute("ws-attr");bZ=(b0=null,[bU.TryGetValue(bY,{get:function(){return b0;},set:function(b1){b0=b1;}}),b0]);bZ[0]?bZ[1].$==3?bO(bX,bZ[1].$1):bI.warn("Attribute hole filled with non-attribute data",bY):void 0;});U.IterSelector(bK,"[ws-on]",function(bX){bO(bX,p.Concat(o.choose(function(bY){var bZ,b0,b1;bZ=bc.SplitChars(bY,[":"],1);b0=(b1=null,[bU.TryGetValue(o.get(bZ,1),{get:function(){return b1;},set:function(b2){b1=b2;}}),b1]);return b0[0]?b0[1].$==4?{$:1,$0:A.Handler(o.get(bZ,0),b0[1].$1)}:b0[1].$==5?{$:1,$0:p.Handler(o.get(bZ,0),b0[1].$2)}:(bI.warn("Event hole on"+o.get(bZ,0)+" filled with non-event data",o.get(bZ,1)),null):null;},bc.SplitChars(bX.getAttribute("ws-on"),[" "],1))));bX.removeAttribute("ws-on");});U.IterSelector(bK,"[ws-onafterrender]",function(bX){var bY,bZ,b0;bY=bX.getAttribute("ws-onafterrender");bZ=(b0=null,[bU.TryGetValue(bY,{get:function(){return b0;},set:function(b1){b0=b1;}}),b0]);bZ[0]?bZ[1].$==6?(bX.removeAttribute("ws-onafterrender"),bO(bX,A.OnAfterRender(bZ[1].$1))):bZ[1].$==7?(bX.removeAttribute("ws-onafterrender"),bO(bX,A.OnAfterRender(bZ[1].$1))):bI.warn("onafterrender hole filled with non-onafterrender data",bY):void 0;});U.IterSelector(bK,"[ws-var]",function(bX){var bY,bZ,b0;bY=bX.getAttribute("ws-var");bX.removeAttribute("ws-var");bZ=(b0=null,[bU.TryGetValue(bY,{get:function(){return b0;},set:function(b1){b0=b1;}}),b0]);bZ[0]?bZ[1].$==8?bO(bX,A.Value(bZ[1].$1)):bZ[1].$==9?bO(bX,A.Checked(bZ[1].$1)):bZ[1].$==10?bO(bX,A.IntValue(bZ[1].$1)):bZ[1].$==11?bO(bX,A.IntValueUnchecked(bZ[1].$1)):bZ[1].$==12?bO(bX,A.FloatValue(bZ[1].$1)):bZ[1].$==13?bO(bX,A.FloatValueUnchecked(bZ[1].$1)):bI.warn("Var hole filled with non-Var data",bY):void 0;});U.IterSelector(bK,"[ws-attr-holes]",function(bX){var bY,bZ,b0,b1;bY=new a.RegExp(I.TextHoleRE(),"g");bZ=bc.SplitChars(bX.getAttribute("ws-attr-holes"),[" "],1);bX.removeAttribute("ws-attr-holes");for(b0=0,b1=bZ.length-1;b0<=b1;b0++)(function(){var b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;b$=o.get(bZ,b0);ca=bX.getAttribute(b$);b2=null;b3=0;cb=[];while(b2=bY.exec(ca),b2!==null){cc=_5.string(ca,{$:1,$0:b3},{$:1,$0:bY.lastIndex-o.get(b2,0).length-1});b3=bY.lastIndex;cb.push([cc,o.get(b2,1)]);}b5=_5.string(ca,{$:1,$0:b3},null);bY.lastIndex=0;b6=o.foldBack(function(cd,ce){return(function(cf){var cg,ch;cg=cf[0];ch=cf[1];return function(ci){var cj,ck,cl,cm,cn;cj=ci[0];ck=ci[1];cl=(cm=(cn=null,[bU.TryGetValue(ch,{get:function(){return cn;},set:function(co){cn=co;}}),cn]),cm[0]?cm[1].$==1?{$:0,$0:cm[1].$1}:cm[1].$==2?{$:1,$0:cm[1].$1}:cm[1].$==8?{$:1,$0:cm[1].$1.get_View()}:cm[1].$==9?{$:1,$0:V.Map(a.String,cm[1].$1.get_View())}:cm[1].$==10?{$:1,$0:V.Map(function(co){return co.get_Input();},cm[1].$1.get_View())}:cm[1].$==11?{$:1,$0:V.Map(a.String,cm[1].$1.get_View())}:cm[1].$==12?{$:1,$0:V.Map(function(co){return co.get_Input();},cm[1].$1.get_View())}:cm[1].$==13?{$:1,$0:V.Map(a.String,cm[1].$1.get_View())}:(bI.warn("Attribute value hole filled with non-text data",ch),{$:0,$0:""}):{$:0,$0:""});return cl.$==1?[cg,new n({$:1,$0:cj===""?cl.$0:V.Map(function(co){return co+cj;},cl.$0),$1:ck})]:[cg+cl.$0+cj,ck];};}(cd))(ce);},cb,[b5,n.Empty]);return bO(bX,b6[1].$==1?b6[1].$1.$==1?b6[1].$1.$1.$==1?b6[1].$1.$1.$1.$==0?(b7=b6[0],A.Dynamic(b$,V.Map3(function(cd,ce,cf){return b7+cd+ce+cf;},b6[1].$0,b6[1].$1.$0,b6[1].$1.$1.$0))):(b8=b6[0],A.Dynamic(b$,V.Map(function(cd){return b8+bc.concat("",cd);},V.Sequence(b6[1])))):(b9=b6[0],A.Dynamic(b$,V.Map2(function(cd,ce){return b9+cd+ce;},b6[1].$0,b6[1].$1.$0))):b6[0]===""?A.Dynamic(b$,b6[1].$0):(b_=b6[0],A.Dynamic(b$,V.Map(function(cd){return b_+cd;},b6[1].$0))):p.Create(b$,b6[0]));}());});return[bG.DeleteEmptyFields({Els:bM,Dirty:true,Holes:bQ,Attrs:bS,Render:(bN=bT.length==0?null:{$:1,$0:function(bX){o.iter(function(bY){bY(bX);},bT);}},bN?bN.$0:void 0)},["Render"]),B.TreeReduce(V.Const(),V.Map2Unit,bR)];};I.TextHoleRE=function(){Y.$cctor();return Y.TextHoleRE;};J.NewFromSeq=function(bK){var bL,bM,bN;bL={};bM=Q.Get(bK);try{while(bM.MoveNext()){bN=bM.Current();bL[bN[0]]=bN[1];}}finally{if("Dispose"in bM)bM.Dispose();}return bL;};K=g.Doc=bG.Class({},l,K);K.RunById=function(bK,bL){var bM;bM=U.Doc().getElementById(bK);i.Equals(bM,null)?f.FailWith("invalid id: "+bK):K.Run(bM,bL);};K.Run=function(bK,bL){_0.LinkElement(bK,bL.docNode);K.RunInPlace(false,bK,bL);};K.RunInPlace=function(bK,bL,bM){var bN;bN=_0.CreateRunState(bL,bM.docNode);V.Sink(_7.get_UseAnimations()||_8.BatchUpdatesEnabled()?_9.StartProcessor(_0.PerformAnimatedUpdate(bK,bN,bM.docNode)):function(){_0.PerformSyncUpdate(bK,bN,bM.docNode);},bM.updates);};K.get_Empty=function(){return K.Mk(null,V.Const());};K.Mk=function(bK,bL){return new K.New(bK,bL);};K.TextNode=function(bK){return K.Mk({$:5,$0:U.CreateText(bK)},V.Const());};K.TextView=function(bK){var bL;bL=_0.CreateTextNode();return K.Mk({$:4,$0:bL},V.Map(function(bM){_0.UpdateTextNode(bL,bM);},bK));};K.New=bG.Ctor(function(bK,bL){this.docNode=bK;this.updates=bL;},K);M.Int=function(){M.set_counter(M.counter()+1);return M.counter();};M.set_counter=function(bK){_1.$cctor();_1.counter=bK;};M.counter=function(){_1.$cctor();return _1.counter;};N.Static=function(bK){return new p({$:3,$0:bK});};N.EmptyAttr=function(){X.$cctor();return X.EmptyAttr;};N.AppendTree=function(bK,bL){var bM;return bK===null?bL:bL===null?bK:(bM=new p({$:2,$0:bK,$1:bL}),(N.SetFlags(bM,N.Flags(bK)|N.Flags(bL)),bM));};N.SetFlags=function(bK,bL){bK.flags=bL;};N.Flags=function(bK){return bK!==null&&bK.hasOwnProperty("flags")?bK.flags:0;};N.Insert=function(bK,bL){var bM,bN,bO;function bP(bQ){if(!(bQ===null))if(bQ!=null&&bQ.$==1)bM.push(bQ.$0);else if(bQ!=null&&bQ.$==2){bP(bQ.$0);bP(bQ.$1);}else if(bQ!=null&&bQ.$==3)bQ.$0(bK);else if(bQ!=null&&bQ.$==4)bN.push(bQ.$0);}bM=[];bN=[];bP(bL);bO=bM.slice(0);return ba.New(bK,N.Flags(bL),bO,bN.length===0?null:{$:1,$0:function(bQ){G.iter(function(bR){bR(bQ);},bN);}});};N.Updates=function(bK){return B.MapTreeReduce(function(bL){return bL.NChanged();},V.Const(),V.Map2Unit,bK.DynNodes);};N.Empty=function(bK){return ba.New(bK,0,[],null);};N.HasChangeAnim=function(bK){var bL;bL=4;return(bK.DynFlags&bL)===bL;};N.GetChangeAnim=function(bK){return N.GetAnim(bK,function(bL,bM){return bL.NGetChangeAnim(bM);});};N.HasEnterAnim=function(bK){var bL;bL=1;return(bK.DynFlags&bL)===bL;};N.GetEnterAnim=function(bK){return N.GetAnim(bK,function(bL,bM){return bL.NGetEnterAnim(bM);});};N.HasExitAnim=function(bK){var bL;bL=2;return(bK.DynFlags&bL)===bL;};N.GetExitAnim=function(bK){return N.GetAnim(bK,function(bL,bM){return bL.NGetExitAnim(bM);});};N.Dynamic=function(bK,bL){return new p({$:1,$0:new bu.New(bK,bL)});};N.GetAnim=function(bK,bL){return _7.Concat(o.map(function(bM){return bL(bM,bK.DynElem);},bK.DynNodes));};N.Sync=function(bK,bL){o.iter(function(bM){bM.NSync(bK);},bL.DynNodes);};P.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};Q.Get=function(bK){return bK instanceof a.Array?Q.ArrayEnumerator(bK):i.Equals(typeof bK,"string")?Q.StringEnumerator(bK):bK.GetEnumerator();};Q.ArrayEnumerator=function(bK){return new R.New(0,null,function(bL){var bM;bM=bL.s;return bM<o.length(bK)&&(bL.c=o.get(bK,bM),bL.s=bM+1,true);},void 0);};Q.StringEnumerator=function(bK){return new R.New(0,null,function(bL){var bM;bM=bL.s;return bM<bK.length&&(bL.c=bK[bM],bL.s=bM+1,true);},void 0);};Q.Get0=function(bK){return bK instanceof a.Array?Q.ArrayEnumerator(bK):i.Equals(typeof bK,"string")?Q.StringEnumerator(bK):"GetEnumerator0"in bK?bK.GetEnumerator0():bK.GetEnumerator();};R=Q.T=bG.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},l,R);R.New=bG.Ctor(function(bK,bL,bM,bN){this.s=bK;this.c=bL;this.n=bM;this.d=bN;},R);U.Doc=function(){Z.$cctor();return Z.Doc;};U.ChildrenArray=function(bK){var bL,bM,bN;bL=[];for(bM=0,bN=bK.childNodes.length-1;bM<=bN;bM++)bL.push(bK.childNodes[bM]);return bL;};U.IterSelector=function(bK,bL,bM){var bN,bO,bP;bN=bK.querySelectorAll(bL);for(bO=0,bP=bN.length-1;bO<=bP;bO++)bM(bN[bO]);};U.InsertAt=function(bK,bL,bM){var bN;if(!(bM.parentNode===bK&&bL===(bN=bM.nextSibling,i.Equals(bN,null)?null:bN)))bK.insertBefore(bM,bL);};U.CreateText=function(bK){return U.Doc().createTextNode(bK);};U.SetAttr=function(bK,bL,bM){bK.setAttribute(bL,bM);};U.RemoveNode=function(bK,bL){if(bL.parentNode===bK)bK.removeChild(bL);};z.Obsolete=function(bK){var bL,bM,bN,bO,bP;bM=bK.s;if(bM==null||(bM!=null&&bM.$==2?(bL=bM.$1,false):bM!=null&&bM.$==3?(bL=bM.$1,false):true))void 0;else{bK.s=null;for(bN=0,bO=o.length(bL)-1;bN<=bO;bN++){bP=o.get(bL,bN);typeof bP=="object"?function(bQ){z.Obsolete(bQ);}(bP):bP();}}};z.New=function(bK){return{s:bK};};V=g.View=bG.Class({},null,V);W.TryParseInt32=function(bK,bL){return W.TryParse(bK,-2147483648,2147483647,bL);};X.$cctor=function(){X.$cctor=a.ignore;X.EmptyAttr=null;};Y.$cctor=function(){Y.$cctor=a.ignore;Y.LoadedTemplates=new D.New$5();Y.LocalTemplatesLoaded=false;Y.TextHoleRE="\\${([^}]+)}";};Z.$cctor=function(){Z.$cctor=a.ignore;Z.Doc=a.document;};_0.LinkElement=function(bK,bL){_0.InsertDoc(bK,bL,null);};_0.InsertDoc=function(bK,bL,bM){var bN;return bL!=null&&bL.$==1?_0.InsertNode(bK,bL.$0.El,bM):bL!=null&&bL.$==2?(bN=bL.$0,(bN.Dirty=false,_0.InsertDoc(bK,bN.Current,bM))):bL==null?bM:bL!=null&&bL.$==4?_0.InsertNode(bK,bL.$0.Text,bM):bL!=null&&bL.$==5?_0.InsertNode(bK,bL.$0,bM):bL!=null&&bL.$==6?o.foldBack(function(bO,bP){return bO.constructor===O?_0.InsertDoc(bK,bO,bP):_0.InsertNode(bK,bO,bP);},bL.$0.Els,bM):_0.InsertDoc(bK,bL.$0,_0.InsertDoc(bK,bL.$1,bM));};_0.CreateRunState=function(bK,bL){return be.New(bf.get_Empty(),_0.CreateElemNode(bK,N.EmptyAttr(),bL));};_0.PerformAnimatedUpdate=function(bK,bL,bM){var bN;return _7.get_UseAnimations()?(bN=null,bl.Delay(function(){var bO,bP,bQ;bO=bf.FindAll(bM);bP=_0.ComputeChangeAnim(bL,bO);bQ=_0.ComputeEnterAnim(bL,bO);return bl.Bind(_7.Play(_7.Append(bP,_0.ComputeExitAnim(bL,bO))),function(){return bl.Bind(_0.SyncElemNodesNextFrame(bK,bL),function(){return bl.Bind(_7.Play(bQ),function(){bL.PreviousNodes=bO;return bl.Return(null);});});});})):_0.SyncElemNodesNextFrame(bK,bL);};_0.PerformSyncUpdate=function(bK,bL,bM){var bN;bN=bf.FindAll(bM);_0.SyncElemNode(bK,bL.Top);bL.PreviousNodes=bN;};_0.InsertNode=function(bK,bL,bM){U.InsertAt(bK,bM,bL);return bL;};_0.CreateElemNode=function(bK,bL,bM){var bN;_0.LinkElement(bK,bM);bN=N.Insert(bK,bL);return _2.New(bN,bM,null,bK,M.Int(),bG.GetOptional(bN.OnAfterRender));};_0.ComputeChangeAnim=function(bK,bL){var bM;function bN(bO){return N.HasChangeAnim(bO.Attr);}bM=function(bO){return bf.Filter(bN,bO);};return _7.Concat(o.map(function(bO){return N.GetChangeAnim(bO.Attr);},bf.ToArray(bf.Intersect(bM(bK.PreviousNodes),bM(bL)))));};_0.ComputeEnterAnim=function(bK,bL){return _7.Concat(o.map(function(bM){return N.GetEnterAnim(bM.Attr);},bf.ToArray(bf.Except(bK.PreviousNodes,bf.Filter(function(bM){return N.HasEnterAnim(bM.Attr);},bL)))));};_0.ComputeExitAnim=function(bK,bL){return _7.Concat(o.map(function(bM){return N.GetExitAnim(bM.Attr);},bf.ToArray(bf.Except(bL,bf.Filter(function(bM){return N.HasExitAnim(bM.Attr);},bK.PreviousNodes)))));};_0.SyncElemNodesNextFrame=function(bK,bL){function bM(bN){a.requestAnimationFrame(function(){_0.SyncElemNode(bK,bL.Top);bN();});}return _8.BatchUpdatesEnabled()?bl.FromContinuations(function(bN,bO,bP){return bM.apply(null,[bN,bO,bP]);}):(_0.SyncElemNode(bK,bL.Top),bl.Return(null));};_0.SyncElemNode=function(bK,bL){!bK?_0.SyncElement(bL):void 0;_0.Sync(bL.Children);_0.AfterRender(bL);};_0.InsertBeforeDelim=function(bK,bL){var bM,bN;bM=bK.parentNode;bN=a.document.createTextNode("");bM.insertBefore(bN,bK);_0.LinkPrevElement(bK,bL);return bN;};_0.SyncElement=function(bK){function bL(bM){function bN(bO){var bP,bQ;return bO!=null&&bO.$==0?bN(bO.$0)||bN(bO.$1):bO!=null&&bO.$==2?(bP=bO.$0,bP.Dirty||bN(bP.Current)):bO!=null&&bO.$==6&&(bQ=bO.$0,bQ.Dirty||o.exists(bL,bQ.Holes));}return bN(bM.Children);}N.Sync(bK.El,bK.Attr);bL(bK)?_0.DoSyncElement(bK):void 0;};_0.Sync=function(bK){var bL,bM;if(bK!=null&&bK.$==1)_0.SyncElemNode(false,bK.$0);else if(bK!=null&&bK.$==2)_0.Sync(bK.$0.Current);else if(bK==null);else if(bK!=null&&bK.$==5);else if(bK!=null&&bK.$==4){bL=bK.$0;bL.Dirty?(bL.Text.nodeValue=bL.Value,bL.Dirty=false):void 0;}else if(bK!=null&&bK.$==6){bM=bK.$0;o.iter(function(bN){_0.SyncElemNode(false,bN);},bM.Holes);o.iter(function(bN){N.Sync(bN[0],bN[1]);},bM.Attrs);_0.AfterRender(bM);}else{_0.Sync(bK.$0);_0.Sync(bK.$1);}};_0.AfterRender=function(bK){var bL;bL=bG.GetOptional(bK.Render);bL!=null&&bL.$==1?(bL.$0(bK.El),bG.SetOptional(bK,"Render",null)):void 0;};_0.CreateTextNode=function(){return{Text:U.CreateText(""),Dirty:false,Value:""};};_0.UpdateTextNode=function(bK,bL){bK.Value=bL;bK.Dirty=true;};_0.LinkPrevElement=function(bK,bL){_0.InsertDoc(bK.parentNode,bL,bK);};_0.DoSyncElement=function(bK){var bL,bM,bN;function bO(bP,bQ){var bR,bS;return bP!=null&&bP.$==1?bP.$0.El:bP!=null&&bP.$==2?(bR=bP.$0,bR.Dirty?(bR.Dirty=false,_0.InsertDoc(bL,bR.Current,bQ)):bO(bR.Current,bQ)):bP==null?bQ:bP!=null&&bP.$==4?bP.$0.Text:bP!=null&&bP.$==5?bP.$0:bP!=null&&bP.$==6?(bS=bP.$0,(bS.Dirty?bS.Dirty=false:void 0,o.foldBack(function(bT,bU){return bT.constructor===O?bO(bT,bU):bT;},bS.Els,bQ))):bO(bP.$0,bO(bP.$1,bQ));}bL=bK.El;bx.Iter((bM=bK.El,function(bP){U.RemoveNode(bM,bP);}),bx.Except(bx.DocChildren(bK),bx.Children(bK.El,bG.GetOptional(bK.Delimiters))));bO(bK.Children,(bN=bG.GetOptional(bK.Delimiters),bN!=null&&bN.$==1?bN.$0[1]:null));};_1.$cctor=function(){_1.$cctor=a.ignore;_1.counter=0;};_2=g.DocElemNode=bG.Class({Equals:function(bK){return this.ElKey===bK.ElKey;},GetHashCode:function(){return this.ElKey;}},null,_2);_2.New=function(bK,bL,bM,bN,bO,bP){var bQ;return new _2((bQ={Attr:bK,Children:bL,El:bN,ElKey:bO},(bG.SetOptional(bQ,"Delimiters",bM),bG.SetOptional(bQ,"Render",bP),bQ)));};_4.convertTextNode=function(bK){var bL,bM,bN,bO,bP,bQ;bL=null;bM=0;bO=bK.textContent;bP=new a.RegExp(I.TextHoleRE(),"g");while(bL=bP.exec(bO),bL!==null){bK.parentNode.insertBefore(a.document.createTextNode(_5.string(bO,{$:1,$0:bM},{$:1,$0:bP.lastIndex-o.get(bL,0).length-1})),bK);bM=bP.lastIndex;bQ=a.document.createElement("span");bQ.setAttribute("ws-replace",o.get(bL,1).toLowerCase());bK.parentNode.insertBefore(bQ,bK);}bP.lastIndex=0;bK.textContent=_5.string(bO,{$:1,$0:bM},null);};_4.failNotLoaded=function(bK){bI.warn("Instantiating non-loaded template",bK);};_4.fillTextHole=function(bK,bL,bM){var bN;bN=bK.querySelector("[ws-replace]");return i.Equals(bN,null)?(bI.warn("Filling non-existent text hole",bM),null):(bN.parentNode.replaceChild(new a.Text(bL),bN),{$:1,$0:bN.getAttribute("ws-replace")});};_4.removeHolesExcept=function(bK,bL){function bM(bN){U.IterSelector(bK,"["+bN+"]",function(bO){if(!bL.Contains(bO.getAttribute(bN)))bO.removeAttribute(bN);});}bM("ws-attr");bM("ws-onafterrender");bM("ws-var");U.IterSelector(bK,"[ws-hole]",function(bN){if(!bL.Contains(bN.getAttribute("ws-hole"))){bN.removeAttribute("ws-hole");while(bN.hasChildNodes())bN.removeChild(bN.lastChild);}});U.IterSelector(bK,"[ws-replace]",function(bN){if(!bL.Contains(bN.getAttribute("ws-replace")))bN.parentNode.removeChild(bN);});U.IterSelector(bK,"[ws-on]",function(bN){bN.setAttribute("ws-on",bc.concat(" ",o.filter(function(bO){return bL.Contains(o.get(bc.SplitChars(bO,[":"],1),1));},bc.SplitChars(bN.getAttribute("ws-on"),[" "],1))));});U.IterSelector(bK,"[ws-attr-holes]",function(bN){var bO,bP,bQ,bR,bS;bO=bc.SplitChars(bN.getAttribute("ws-attr-holes"),[" "],1);for(bP=0,bQ=bO.length-1;bP<=bQ;bP++){bR=o.get(bO,bP);bN.setAttribute(bR,(bS=new a.RegExp(I.TextHoleRE(),"g"),bN.getAttribute(bR).replace(bS,function(bT,bU){return bL.Contains(bU)?bT:"";})));}});};_4.fillInstanceAttrs=function(bK,bL){var bM,bN,bO,bP,bQ;_4.convertAttrs(bL);bM=bL.nodeName.toLowerCase();bN=bK.querySelector("[ws-attr="+bM+"]");if(i.Equals(bN,null))bI.warn("Filling non-existent attr hole",bM);else{bN.removeAttribute("ws-attr");for(bO=0,bP=bL.attributes.length-1;bO<=bP;bO++){bQ=bL.attributes.item(bO);bQ.name==="class"&&bN.hasAttribute("class")?bN.setAttribute("class",bN.getAttribute("class")+" "+bQ.nodeValue):bN.setAttribute(bQ.name,bQ.nodeValue);}}};_4.mapHoles=function(bK,bL){function bM(bN){U.IterSelector(bK,"["+bN+"]",function(bO){var bP,bQ;bP=(bQ=null,[bL.TryGetValue(bO.getAttribute(bN).toLowerCase(),{get:function(){return bQ;},set:function(bR){bQ=bR;}}),bQ]);bP[0]?bO.setAttribute(bN,bP[1]):void 0;});}bM("ws-hole");bM("ws-replace");bM("ws-attr");bM("ws-onafterrender");bM("ws-var");U.IterSelector(bK,"[ws-on]",function(bN){bN.setAttribute("ws-on",bc.concat(" ",o.map(function(bO){var bP,bQ,bR;bP=bc.SplitChars(bO,[":"],1);bQ=(bR=null,[bL.TryGetValue(o.get(bP,1),{get:function(){return bR;},set:function(bS){bR=bS;}}),bR]);return bQ[0]?o.get(bP,0)+":"+bQ[1]:bO;},bc.SplitChars(bN.getAttribute("ws-on"),[" "],1))));});U.IterSelector(bK,"[ws-attr-holes]",function(bN){var bO,bP,bQ;bO=bc.SplitChars(bN.getAttribute("ws-attr-holes"),[" "],1);for(bP=0,bQ=bO.length-1;bP<=bQ;bP++)(function(){var bR;function bS(bT,bU){var bV;bV=f.KeyValue(bU);return bT.replace(new a.RegExp("\\${"+bV[0]+"}","ig"),"${"+bV[1]+"}");}bR=o.get(bO,bP);return bN.setAttribute(bR,(((bG.Curried3(G.fold))(bS))(bN.getAttribute(bR)))(bL));}());});};_4.fill=function(bK,bL,bM){while(true)if(bK.hasChildNodes())bM=bL.insertBefore(bK.lastChild,bM);else return null;};_4.convertAttrs=function(bK){var bM,bN,bO,bP,bQ,bR,bS,bT;function bL(bU){var bV;bV=bK.getAttribute(bU);bV===null?void 0:bK.setAttribute(bU,bV.toLowerCase());}bM=bK.attributes;bN=[];bO=[];bP=[];for(bQ=0,bR=bM.length-1;bQ<=bR;bQ++){bS=bM.item(bQ);bc.StartsWith(bS.nodeName,"ws-on")&&bS.nodeName!=="ws-onafterrender"&&bS.nodeName!=="ws-on"?(bN.push(bS.nodeName),bO.push(_5.string(bS.nodeName,{$:1,$0:"ws-on".length},null)+":"+bS.nodeValue.toLowerCase())):!bc.StartsWith(bS.nodeName,"ws-")&&(new a.RegExp(I.TextHoleRE())).test(bS.nodeValue)?(bS.nodeValue=(bT=new a.RegExp(I.TextHoleRE(),"g"),bS.nodeValue.replace(bT,function(bU,bV){return"${"+bV.toLowerCase()+"}";})),bP.push(bS.nodeName)):void 0;}!(bO.length==0)?bK.setAttribute("ws-on",bc.concat(" ",bO)):void 0;!(bP.length==0)?bK.setAttribute("ws-attr-holes",bc.concat(" ",bP)):void 0;bL("ws-hole");bL("ws-replace");bL("ws-attr");bL("ws-onafterrender");bL("ws-var");o.iter(function(bU){bK.removeAttribute(bU);},bN);};_5.string=function(bK,bL,bM){return bL==null?bM!=null&&bM.$==1?bK.slice(0,bM.$0+1):"":bM==null?bK.slice(bL.$0):bK.slice(bL.$0,bM.$0+1);};G.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};_6=C.KeyCollection=bG.Class({GetEnumerator$1:function(){return Q.Get(G.map(function(bK){return bK.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},l,_6);_6.New=bG.Ctor(function(bK){this.d=bK;},_6);_7.get_UseAnimations=function(){return bg.UseAnimations();};_7.Play=function(bK){var bL;bL=null;return bl.Delay(function(){return bl.Bind(_7.Run(a.ignore,bg.Actions(bK)),function(){bg.Finalize(bK);return bl.Return(null);});});};_7.Append=function(bK,bL){return{$:0,$0:bm.Append(bK.$0,bL.$0)};};_7.Concat=function(bK){return{$:0,$0:bm.Concat(G.map(bg.List,bK))};};_7.Run=function(bK,bL){var bM;function bN(bO){function bP(bQ,bR){var bS;bS=bR-bQ;bL.Compute(bS);bK();return bS<=bM?void a.requestAnimationFrame(function(bT){bP(bQ,bT);}):bO();}a.requestAnimationFrame(function(bQ){bP(bQ,bQ);});}bM=bL.Duration;return bM===0?bl.Zero():bl.FromContinuations(function(bO,bP,bQ){return bN.apply(null,[bO,bP,bQ]);});};_7.get_Empty=function(){return{$:0,$0:bm.Empty()};};_8.BatchUpdatesEnabled=function(){bh.$cctor();return bh.BatchUpdatesEnabled;};_9.StartProcessor=function(bK){var bL;function bM(){var bN;bN=null;return bl.Delay(function(){return bl.Bind(bK,function(){var bO;bO=bL[0];return bO===1?(bL[0]=0,bl.Zero()):bO===2?(bL[0]=1,bM()):bl.Zero();});});}bL=[0];return function(){var bN;bN=bL[0];bN===0?(bL[0]=1,bl.Start(bM(),null)):bN===1?bL[0]=2:void 0;};};V.Sink=function(bK,bL){function bM(){z.WhenRun(bL(),bK,function(){bl.scheduler().Fork(bM);});}bl.scheduler().Fork(bM);};V.Const=function(bK){var bL;bL=z.New({$:0,$0:bK});return function(){return bL;};};V.Map=function(bK,bL){return V.CreateLazy(function(){return z.Map(bK,bL());});};V.Map3=function(bK,bL,bM,bN){return V.CreateLazy(function(){return z.Map3(bK,bL(),bM(),bN());});};V.Sequence=function(bK){return V.CreateLazy(function(){return z.Sequence(G.map(function(bL){return bL();},bK));});};V.Map2=function(bK,bL,bM){return V.CreateLazy(function(){return z.Map2(bK,bL(),bM());});};V.Map2Unit=function(bK,bL){return V.CreateLazy(function(){return z.Map2Unit(bK(),bL());});};V.CreateLazy=function(bK){var bL;bL={c:null,o:bK};return function(){var bM,bN;bM=bL.c;return bM===null?(bM=bL.o(),bL.c=bM,(bN=bM.s,bN!=null&&bN.$==0)?bL.o=null:z.WhenObsoleteRun(bM,function(){bL.c=null;}),bM):bM;};};_.concat=function(bK){var bL,bM;bL=[];for(var bN in bK)bL.push.apply(bL,bK[bN]);return bL;};ba.New=function(bK,bL,bM,bN){var bO;bO={DynElem:bK,DynFlags:bL,DynNodes:bM};bG.SetOptional(bO,"OnAfterRender",bN);return bO;};bb=g.Elt=bG.Class({},K,bb);bb.TreeNode=function(bK,bL){var bM,bN;function bO(bP){return bP[1];}bM=bj.Create(bL);return new bb.New$1({$:6,$0:bK},V.Map2Unit((bN=o.map(function(bP){return N.Updates(bO(bP));},bK.Attrs),B.TreeReduce(V.Const(),V.Map2Unit,bN)),bM.v),o.get(bK.Els,0),bM);};bb.New$1=bG.Ctor(function(bK,bL,bM,bN){K.New.call(this,bK,bL);this.docNode$1=bK;this.updates$1=bL;this.elt=bM;this.rvUpdates=bN;},bb);bc.concat=function(bK,bL){return o.ofSeq(bL).join(bK);};bc.SplitChars=function(bK,bL,bM){return bc.Split(bK,new a.RegExp("["+bc.RegexEscape(bL.join(""))+"]"),bM);};bc.StartsWith=function(bK,bL){return bK.substring(0,bL.length)==bL;};bc.RegexEscape=function(bK){return bK.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bc.Split=function(bK,bL,bM){return bM===1?o.filter(function(bN){return bN!=="";},bc.SplitWith(bK,bL)):bc.SplitWith(bK,bL);};bc.SplitWith=function(bK,bL){return bK.split(bL);};bc.forall=function(bK,bL){return G.forall(bK,bc.protect(bL));};bc.protect=function(bK){return bK===null?"":bK;};be.New=function(bK,bL){return{PreviousNodes:bK,Top:bL};};bf.get_Empty=function(){return{$:0,$0:new E.New$3()};};bf.FindAll=function(bK){var bL;function bM(bO){if(bO!=null&&bO.$==0){bM(bO.$0);bM(bO.$1);}else if(bO!=null&&bO.$==1)bN(bO.$0);else if(bO!=null&&bO.$==2)bM(bO.$0.Current);else if(bO!=null&&bO.$==6)o.iter(bN,bO.$0.Holes);}function bN(bO){bL.push(bO);bM(bO.Children);}bL=[];bM(bK);return{$:0,$0:new E.New$2(bL)};};bf.Filter=function(bK,bL){return{$:0,$0:bs.Filter(bK,bL.$0)};};bf.Intersect=function(bK,bL){return{$:0,$0:bs.Intersect(bK.$0,bL.$0)};};bf.ToArray=function(bK){return bs.ToArray(bK.$0);};bf.Except=function(bK,bL){return{$:0,$0:bs.Except(bK.$0,bL.$0)};};bg.UseAnimations=function(){bk.$cctor();return bk.UseAnimations;};bg.Actions=function(bK){return bg.ConcatActions(o.choose(function(bL){return bL.$==1?{$:1,$0:bL.$0}:null;},bm.ToArray(bK.$0)));};bg.Finalize=function(bK){o.iter(function(bL){if(bL.$==0)bL.$0();},bm.ToArray(bK.$0));};bg.List=function(bK){return bK.$0;};bg.ConcatActions=function(bK){var bL,bM,bN,bO;bL=B.ofSeqNonCopying(bK);bM=o.length(bL);return bM===0?bg.Const():bM===1?o.get(bL,0):(bN=G.max(G.map(function(bP){return bP.Duration;},bL)),(bO=o.map(function(bP){return bg.Prolong(bN,bP);},bL),bg.Def(bN,function(bP){o.iter(function(bQ){bQ.Compute(bP);},bO);})));};bg.Const=function(bK){return bg.Def(0,function(){return bK;});};bg.Prolong=function(bK,bL){var bM,bN,bO;bM=bL.Compute;bN=bL.Duration;bO=bA.Create(function(){return bL.Compute(bL.Duration);});return{Compute:function(bP){return bP>=bN?bO.f():bM(bP);},Duration:bK};};bg.Def=function(bK,bL){return{Compute:bL,Duration:bK};};bh.$cctor=function(){bh.$cctor=a.ignore;bh.BatchUpdatesEnabled=true;};bi=g.CheckedInput=bG.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,bi);bj=g.Updates=bG.Class({},null,bj);bj.Create=function(bK){var bL;bL=null;bL=bj.New(bK,null,function(){var bM;bM=bL.s;return bM===null?(bM=z.Copy(bL.c()),bL.s=bM,z.WhenObsoleteRun(bM,function(){bL.s=null;}),bM):bM;});return bL;};bj.New=function(bK,bL,bM){return new bj({c:bK,s:bL,v:bM});};bk.$cctor=function(){bk.$cctor=a.ignore;bk.CubicInOut=bo.Custom(function(bK){var bL;bL=bK*bK;return 3*bL-2*(bL*bK);});bk.UseAnimations=true;};bl.Delay=function(bK){return function(bL){try{(bK(null))(bL);}catch(bM){bL.k({$:1,$0:bM});}};};bl.Bind=function(bK,bL){return bl.checkCancel(function(bM){bK(bp.New(function(bN){var bO;if(bN.$==0){bO=bN.$0;bl.scheduler().Fork(function(){try{(bL(bO))(bM);}catch(bP){bM.k({$:1,$0:bP});}});}else bl.scheduler().Fork(function(){bM.k(bN);});},bM.ct));});};bl.Zero=function(){bq.$cctor();return bq.Zero;};bl.Start=function(bK,bL){var bM,bN;bM=(bN=(bl.defCTS())[0],bL==null?bN:bL.$0);bl.scheduler().Fork(function(){if(!bM.c)bK(bp.New(function(bO){if(bO.$==1)bl.UncaughtAsyncError(bO.$0);},bM));});};bl.Return=function(bK){return function(bL){bL.k({$:0,$0:bK});};};bl.checkCancel=function(bK){return function(bL){if(bL.ct.c)bl.cancel(bL);else bK(bL);};};bl.defCTS=function(){bq.$cctor();return bq.defCTS;};bl.UncaughtAsyncError=function(bK){bI.log("WebSharper: Uncaught asynchronous exception",bK);};bl.FromContinuations=function(bK){return function(bL){var bM;function bN(bO){if(bM[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bM[0]=true;bl.scheduler().Fork(bO);}}bM=[false];bK(function(bO){bN(function(){bL.k({$:0,$0:bO});});},function(bO){bN(function(){bL.k({$:1,$0:bO});});},function(bO){bN(function(){bL.k({$:2,$0:bO});});});};};bl.cancel=function(bK){bK.k({$:2,$0:new by.New(bK.ct)});};bl.scheduler=function(){bq.$cctor();return bq.scheduler;};bm.Append=function(bK,bL){return bK.$==0?bL:bL.$==0?bK:{$:2,$0:bK,$1:bL};};bm.Concat=function(bK){var bL;bL=B.ofSeqNonCopying(bK);return B.TreeReduce(bm.Empty(),bm.Append,bL);};bm.ToArray=function(bK){var bL;function bM(bN){if(bN.$==1)bL.push(bN.$0);else if(bN.$==2){bM(bN.$0);bM(bN.$1);}else if(bN.$==3)o.iter(function(bO){bL.push(bO);},bN.$0);}bL=[];bM(bK);return bL.slice(0);};bm.Empty=function(){bz.$cctor();return bz.Empty;};bn.isBlank=function(bK){return bc.forall(bt.IsWhiteSpace,bK);};bo=g.Easing=bG.Class({},l,bo);bo.Custom=function(bK){return new bo.New(bK);};bo.New=bG.Ctor(function(bK){this.transformTime=bK;},bo);bp.New=function(bK,bL){return{k:bK,ct:bL};};bq.$cctor=function(){bq.$cctor=a.ignore;bq.noneCT=br.New(false,[]);bq.scheduler=new bv.New();bq.defCTS=[new bw.New()];bq.Zero=bl.Return();bq.GetCT=function(bK){bK.k({$:0,$0:bK.ct});};};br.New=function(bK,bL){return{c:bK,r:bL};};bs.Filter=function(bK,bL){return new E.New$2(o.filter(bK,bs.ToArray(bL)));};bs.Intersect=function(bK,bL){var bM;bM=new E.New$2(bs.ToArray(bK));bM.IntersectWith(bs.ToArray(bL));return bM;};bs.ToArray=function(bK){var bL;bL=o.create(bK.get_Count(),void 0);bK.CopyTo(bL);return bL;};bs.Except=function(bK,bL){var bM;bM=new E.New$2(bs.ToArray(bL));bM.ExceptWith(bs.ToArray(bK));return bM;};bt.IsWhiteSpace=function(bK){return bK.match(new a.RegExp("\\s"))!==null;};W.TryParse=function(bK,bL,bM,bN){var bO,bP;bO=+bK;bP=bO===bO-bO%1&&bO>=bL&&bO<=bM;bP?bN.set(bO):void 0;return bP;};bu=g.DynamicAttrNode=bG.Class({NChanged:function(){return this.updates;},NGetChangeAnim:function(bK){return _7.get_Empty();},NGetEnterAnim:function(bK){return _7.get_Empty();},NGetExitAnim:function(bK){return _7.get_Empty();},NSync:function(bK){if(this.dirty){(this.push(bK))(this.value);this.dirty=false;}}},l,bu);bu.New=bG.Ctor(function(bK,bL){var bM;bM=this;this.push=bL;this.value=void 0;this.dirty=false;this.updates=V.Map(function(bN){bM.value=bN;bM.dirty=true;},bK);},bu);bv=bl.Scheduler=bG.Class({Fork:function(bK){var bL;bL=this;this.robin.push(bK);this.idle?(this.idle=false,a.setTimeout(function(){bL.tick();},0)):void 0;},tick:function(){var bK,bL,bM;bL=this;bM=bJ.now();bK=true;while(bK)if(this.robin.length===0){this.idle=true;bK=false;}else{(this.robin.shift())();bJ.now()-bM>40?(a.setTimeout(function(){bL.tick();},0),bK=false):void 0;}}},l,bv);bv.New=bG.Ctor(function(){this.idle=true;this.robin=[];},bv);bw=e.CancellationTokenSource=bG.Class({},l,bw);bw.New=bG.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},bw);bx.DocChildren=function(bK){var bL;function bM(bN){if(bN!=null&&bN.$==2)bM(bN.$0.Current);else if(bN!=null&&bN.$==1)bL.push(bN.$0.El);else if(bN==null);else if(bN!=null&&bN.$==5)bL.push(bN.$0);else if(bN!=null&&bN.$==4)bL.push(bN.$0.Text);else if(bN!=null&&bN.$==6)o.iter(function(bO){if(bO.constructor===O)bM(bO);else bL.push(bO);},bN.$0.Els);else{bM(bN.$0);bM(bN.$1);}}bL=[];bM(bK.Children);return{$:0,$0:B.ofSeqNonCopying(bL)};};bx.Children=function(bK,bL){var bM,bN,bO;if(bL!=null&&bL.$==1){bO=[];bM=bL.$0[0].nextSibling;while(bM!==bL.$0[1]){bO.push(bM);bM=bM.nextSibling;}return{$:0,$0:bO};}else return{$:0,$0:o.init(bK.childNodes.length,(bN=bK.childNodes,function(bP){return bN[bP];}))};};bx.Except=function(bK,bL){var bM;bM=bK.$0;return{$:0,$0:o.filter(function(bN){return o.forall(function(bO){return!(bN===bO);},bM);},bL.$0)};};bx.Iter=function(bK,bL){o.iter(bK,bL.$0);};by=e.OperationCanceledException=bG.Class({},null,by);by.New=bG.Ctor(function(bK){by.New$1.call(this,"The operation was canceled.",null,bK);},by);by.New$1=bG.Ctor(function(bK,bL,bM){this.message=bK;this.inner=bL;this.ct=bM;},by);bz.$cctor=function(){bz.$cctor=a.ignore;bz.Empty={$:0};};bA.Create=function(bK){return bC.New(false,bK,bA.forceLazy);};bA.forceLazy=function(){var bK;bK=this.v();this.c=true;this.v=bK;this.f=bA.cachedLazy;return bK;};bA.cachedLazy=function(){return this.v;};bC.New=function(bK,bL,bM){return{c:bK,v:bL,f:bM};};bD.Clear=function(bK){bK.splice(0,o.length(bK));};bG.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
